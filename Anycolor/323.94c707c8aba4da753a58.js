/*! For license information please see 323.94c707c8aba4da753a58.js.LICENSE.txt */
"use strict";(self.webpackChunkcolorapp=self.webpackChunkcolorapp||[]).push([[323],{9088:function(t,e,r){r.r(e),r.d(e,{default:function(){return Pe},isHalloween:function(){return ke},pixi:function(){return Wt},worksOfArt:function(){return Ut}}),r(7658),r(6992),r(1539),r(8674),r(8783),r(3948),r(3689),r(1532),r(1038),r(4944),r(3792),r(6649),r(6078),r(2526),r(1817),r(1703),r(9653),r(9070),r(8304),r(489),r(1299),r(2419),r(4819),r(5003),r(2165),r(7042),r(4916),r(7601),r(2443),r(9341),r(3706),r(2703),r(4747);var n=r(4764),o=r(5198),i=r(550),a=r(6710),u=r(7803),c=r(2126);a.Th.registerPlugin("extract",n.Q),a.Th.registerPlugin("interaction",o.bx),a.Th.registerPlugin("batch",a.Bv),a.Th.registerPlugin("tilingSprite",u.S),i.aN.registerPlugin(c.o);var s=r(8844),l=r(5569),f=r(7823),h=(r(3371),r(2222),r(3299),r(7941),r(7327),r(9337),r(3321),r(4460)),d=r(9658),y=r(6679),p=r(4242);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(){m=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new C(o||[]);return n(a,"_invoke",{value:O(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function y(){}var p={};c(p,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(E([])));b&&b!==e&&r.call(b,i)&&(p=b);var w=y.prototype=h.prototype=Object.create(p);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function o(n,i,a,u){var c=l(t[n],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==v(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function O(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=j(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function j(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return d.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(S.prototype),c(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),c(w,u,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function g(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){A(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=S(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},x.apply(this,arguments)}function S(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}function O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D(n.key),n)}}function j(t,e,r){return e&&O(t.prototype,e),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},C(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=T(t);if(e){var o=T(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _(this,r)}}function _(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return L(t)}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},T(t)}function A(t,e,r){return(e=D(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===v(e)?e:String(e)}y.vB.shared.autoStart=!1,y.vB.system.autoStart=!1;var z=Object.freeze({Fill:Symbol("Fill"),Inside:Symbol("KeepAspectRatio"),FillReorient:Symbol("FillReorient"),InsideReorient:Symbol("KeepAspectRatioReorient"),FillByOrientation:Symbol("FillOrientation")}),R=Object.freeze({TopLeft:Symbol("TopLeft"),Center:Symbol("Center")}),M=function(t){k(r,t);var e=E(r);function r(){var t;P(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return A(L(t=e.call.apply(e,[this].concat(o))),"deltaX",0),A(L(t),"deltaY",0),A(L(t),"deltaZ",0),t}return j(r)}(o.gU),I=new M,F=new o.sm,N=function(t){k(o,t);var e,r,n=E(o);function o(t,e,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z.InsideReorient,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:R.TopLeft,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:f._C.LOW;P(this,o);var l=s.Z.getScreenSize(),h=l.width,d=l.height;return A(L(i=n.call(this,w({width:h,height:d,powerPreference:"high-performance",backgroundColor:2371921,forceCanvas:!1,resolution:devicePixelRatio,autoDensity:Math.abs(devicePixelRatio-1)>Number.EPSILON},r))),"assetDesignWidth",void 0),A(L(i),"assetDesignHeight",void 0),A(L(i),"stageScaleMode",void 0),A(L(i),"stagePlacementMode",void 0),A(L(i),"orientationChanged",void 0),A(L(i),"sizeChanged",void 0),A(L(i),"needsRendererReset",void 0),A(L(i),"designWidth",void 0),A(L(i),"designHeight",void 0),A(L(i),"stageWidth",void 0),A(L(i),"stageHeight",void 0),A(L(i),"screenWidth",void 0),A(L(i),"screenHeight",void 0),A(L(i),"resizeHandler",void 0),A(L(i),"resizeNeeded",void 0),A(L(i),"wheelEventListener",void 0),i.orientationChanged=new p.MZ,i.sizeChanged=new p.MZ,i.assetDesignWidth=t,i.assetDesignHeight=e,i.needsRendererReset=!1,i.stageScaleMode=a,i.stagePlacementMode=u,i.designWidth=0,i.designHeight=0,i.stageWidth=0,i.stageHeight=0,i.screenWidth=h,i.screenHeight=d,i.resizeNeeded=!0,i.resizeHandler=function(){i.resizeNeeded=!0},s.Z.addResizeHandler(i.resizeHandler),f.u9.add((function(){return y.vB.system.update(f.u9.gameTimeMs)}),f._C.NORMAL),f.tT.add((function(){return y.vB.shared.update(f.tT.gameTimeMs)}),f._C.NORMAL),f.tT.add(i.render,c,L(i)),i.wheelEventListener=function(t){var e=1;0===t.deltaMode?e=1:1===t.deltaMode?e=50:2===t.deltaMode&&(e=500),i.interactionManager.mapPositionToPoint(I.global,t.clientX,t.clientY),I.originalEvent=t,I.deltaX=t.deltaX*e,I.deltaY=t.deltaY*e,I.deltaZ=t.deltaZ*e,F.data=I,F.reset(),i.interactionManager.processInteractive(F,i.stage,(function(t,e,r){!r||t.stopPropagationHint&&e!==t.stopsPropagatingAt||e.emit("wheel",t)}),!0)},i.view.addEventListener("wheel",i.wheelEventListener),i}return j(o,[{key:"appendToDom",value:function(){var t;null===(t=s.Z.targetElement)||void 0===t||t.appendChild(this.view),this.view.style.visibility="hidden"}},{key:"init",value:(e=m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.view.style.visibility="visible",this.handleResize();case 2:case"end":return t.stop()}}),t,this)})),r=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(t){g(i,n,o,a,u,"next",t)}function u(t){g(i,n,o,a,u,"throw",t)}a(void 0)}))},function(){return r.apply(this,arguments)})},{key:"interactionManager",get:function(){return this.renderer.plugins.interaction}},{key:"handleResize",value:function(){var t=s.Z.getScreenSize(),e=t.width,r=t.height,n=this.isPortrait();if(this.screenWidth=e,this.screenHeight=r,this.stageScaleMode===z.Inside){var o=this.assetDesignWidth/this.assetDesignHeight,i=e/r;this.screenHeight=i<o?e/o:r,this.screenWidth=this.screenHeight*o,this.designWidth=this.assetDesignWidth,this.designHeight=this.assetDesignHeight}else if(this.stageScaleMode===z.InsideReorient){var a=this.assetDesignWidth/this.assetDesignHeight;e/r<1!=a<1?(this.screenHeight=Math.min(e*a,r),this.screenWidth=Math.min(e,this.screenHeight/a)):(this.screenHeight=Math.min(e/a,r),this.screenWidth=Math.min(e,this.screenHeight*a)),this.designWidth=this.isPortrait()?this.assetDesignHeight:this.assetDesignWidth,this.designHeight=this.isPortrait()?this.assetDesignWidth:this.assetDesignHeight}else if(this.stageScaleMode===z.FillReorient)this.designWidth=this.isPortrait()?this.assetDesignHeight:this.assetDesignWidth,this.designHeight=this.isPortrait()?this.assetDesignWidth:this.assetDesignHeight;else if(this.stageScaleMode===z.FillByOrientation){var u=this.assetDesignWidth/this.assetDesignHeight,c=e/r;u<1?this.screenWidth=c<u?e:r*u:this.screenHeight=c>u?r:e/u,this.designWidth=this.isPortrait()?this.assetDesignWidth:this.assetDesignHeight,this.designHeight=this.isPortrait()?this.assetDesignHeight:this.assetDesignWidth}else this.designWidth=this.assetDesignWidth,this.designHeight=this.assetDesignHeight;var l=Math.min(this.screenWidth/this.designWidth,this.screenHeight/this.designHeight);this.stage.scale.set(l),this.stageWidth=this.screenWidth/l,this.stageHeight=this.screenHeight/l,this.stagePlacementMode===R.Center&&(this.stage.x=(this.screenWidth-this.designWidth*l)/2),this.sizeChanged.emit(),n!==this.isPortrait()&&this.orientationChanged.emit();var f=this.stage.enableTempParent();this.stage.updateTransform(),this.stage.disableTempParent(f),this.renderer.resize(this.screenWidth,this.screenHeight),this.resizeNeeded=!1}},{key:"isPortrait",value:function(){return this.screenWidth<this.screenHeight}},{key:"render",value:function(){this.resizeNeeded&&this.handleResize(),this.needsRendererReset&&this.renderer instanceof a.Th&&this.renderer.reset(),x(T(o.prototype),"render",this).call(this)}},{key:"stopAndDestroy",value:function(){this.view.removeEventListener("wheel",this.wheelEventListener),s.Z.removeResizeHandler(this.resizeHandler),this.stop(),this.destroy(!0)}},{key:"globalToNormalized",value:function(t){return new d.E9(t.x/this.renderer.width,t.y/this.renderer.height)}}]),o}(h.M),G=r(6194);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==B(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key,"string"),"symbol"===B(o)?o:String(o)),n)}var o}function W(t,e,r){return e&&H(t.prototype,e),r&&H(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var U=W((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function Z(){Z=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new P(o||[]);return n(a,"_invoke",{value:x(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function y(){}var p={};c(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(k([])));m&&m!==e&&r.call(m,i)&&(p=m);var g=y.prototype=h.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,u){var c=l(t[n],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==V(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=S(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=y,n(g,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),c(g,u,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function q(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==V(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key,"string"),"symbol"===V(o)?o:String(o)),n)}var o}function X(t,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},X(t,e)}function $(t,e){if(e&&("object"===V(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function K(t){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},K(t)}var Q=new G.ZA,tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}(c,t);var e,r,n,o,i,a,u=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=K(i);if(a){var r=K(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return $(this,t)});function c(){return Y(this,c),u.apply(this,arguments)}return e=c,r=[{key:"setup",value:(n=Z().mark((function t(){return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",void 0);case 1:case"end":return t.stop()}}),t)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){q(i,r,o,a,u,"next",t)}function u(t){q(i,r,o,a,u,"throw",t)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"update",value:function(){(0,G.Vx)(),Q.update()}},{key:"destroy",value:function(){(0,G.xY)(),Q.removeAll()}}],r&&J(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(U),et=r(888),rt=r(5841),nt=r(1585),ot=r(4390),it=r(9784),at=r(6020),ut=r(5650),ct=r(618),st=r(7450),lt=r(6177),ft=r(7493),ht=r(799);function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function yt(){yt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new P(o||[]);return n(a,"_invoke",{value:x(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function y(){}var p={};c(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(k([])));m&&m!==e&&r.call(m,i)&&(p=m);var g=y.prototype=h.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,u){var c=l(t[n],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==dt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=S(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=y,n(g,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),c(g,u,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function pt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=vt(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function vt(t,e){if(t){if("string"==typeof t)return mt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mt(t,e):void 0}}function mt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gt(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(r),!0).forEach((function(e){kt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ct(n.key),n)}}function St(t,e){return St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},St(t,e)}function Ot(t,e){if(e&&("object"===dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jt(t)}function jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pt(t){return Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pt(t)}function kt(t,e,r){return(e=Ct(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ct(t){var e=function(t,e){if("object"!==dt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===dt(e)?e:String(e)}var Et=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&St(t,e)}(c,t);var e,r,n,o,i,a,u=(i=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Pt(i);if(a){var r=Pt(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Ot(this,t)});function c(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),kt(jt(r=u.call(this)),"skin",void 0),kt(jt(r),"background",void 0),kt(jt(r),"stage",void 0),kt(jt(r),"loaderProgress",void 0),kt(jt(r),"appLogo",void 0),kt(jt(r),"copyrightText",void 0),kt(jt(r),"aniwayLogo",void 0),r.skin=t,r.background=e,r.loaderProgress=new ot.Y((function(t){return r.updateProgress(t)})),r.stage=new ut.A(jt(r)),r.stage.anchorTo(ct.Uq.Fill),r.stage.layoutController=new st.I(st.J.PreferredSize,st.J.PreferredSize,{minHeight:0,minWidth:0,get preferredHeight(){return Wt.stageHeight},get preferredWidth(){return Wt.stageWidth}}),r.appLogo=r.stage.addChild(new at.I(it.Mo["loading/anycolor_logo"])),r.appLogo.anchorTo(ct.Uq.Center,{x:0,y:-200}),r.aniwayLogo=r.stage.addChild(new at.I(it.Mo["loading/Aniway_logo"])),r.aniwayLogo.sizeDelta=(0,lt.bA)(r.aniwayLogo.sizeDelta,r.aniwayLogo.sizeDelta,.25),r.aniwayLogo.anchorTo(ct.Uq.BottomCenter,{x:0,y:150}),r.copyrightText=r.stage.addChild(new ft.sm("Anycolor is property of Aniway Oy.",ft.H.TopLeft,wt(wt({},ht.h),{},{fill:"#000000",fontSize:32}))),r.copyrightText.anchorTo(ct.Uq.BottomCenter,{x:0,y:100}),r.updateProgress(0),r}return e=c,r=[{key:"loadAll",value:(n=yt().mark((function t(e){var r,n,o=this;return yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.loaderProgress.increaseAssetCount(e.length),r=pt(e);try{for(r.s();!(n=r.n()).done;)n.value.then((function(){return o.loaderProgress.advanceProgress(1)}))}catch(t){r.e(t)}finally{r.f()}return t.t0=Promise,t.t1=[],t.t2=function(t){if(Array.isArray(t))return mt(t)}(i=e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||vt(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t.next=8,this.loaderProgress.load([(0,it.ZP)(this.skin.spriteAssets)]);case 8:return t.t3=t.sent,t.t4=[t.t3],t.t5=t.t1.concat.call(t.t1,t.t2,t.t4),t.abrupt("return",t.t0.all.call(t.t0,t.t5));case 12:case"end":return t.stop()}var i}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){gt(i,r,o,a,u,"next",t)}function u(t){gt(i,r,o,a,u,"throw",t)}a(void 0)}))},function(t){return o.apply(this,arguments)})},{key:"updateProgress",value:function(t){this.background.fillAmount=t}}],r&&xt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(nt.W2),_t=(r(4129),r(8033)),Lt=r(3345),Tt=r(9602),At=r(7048);function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function zt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gt(n.key),n)}}function Rt(t,e){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rt(t,e)}function Mt(t,e){if(e&&("object"===Dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return It(t)}function It(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ft(t){return Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ft(t)}function Nt(t,e,r){return(e=Gt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gt(t){var e=function(t,e){if("object"!==Dt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==Dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===Dt(e)?e:String(e)}function Bt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ht(t,e,"get"))}function Ht(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var Wt,Ut,Vt=192,Zt=new WeakMap,qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rt(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Ft(n);if(o){var r=Ft(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return Mt(this,t)});function a(t){var e,r,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),Nt(It(e=i.call(this)),"skin",void 0),Nt(It(e),"wavePool",[]),Nt(It(e),"blobPool",[]),Nt(It(e),"simplexNoise",void 0),Nt(It(e),"desaturateFilters",void 0),Nt(It(e),"blobs",[]),Nt(It(e),"timeUpdate",void 0),r=It(e),o={writable:!0,value:0},function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r,n=Zt),n.set(r,o),Nt(It(e),"fillTween",void 0),Nt(It(e),"sizeChangedConnection",void 0),e.skin=t,e.simplexNoise=(0,At.hA)();var u=new Lt.m;return u.saturate(-1,!1),e.desaturateFilters=[u],e.timeUpdate=function(){for(var t=Wt.stageHeight,r=Wt.stageWidth,n=t-Bt(It(e),Zt)*t,o=0;o<e.wavePool.length;++o){var i=e.wavePool[o];i.visible&&(i.tilePosition.x+=3*e.simplexNoise(f.u9.gameTimeMs/2e4,o+1),i.position.y=(0,Tt.uZ)(n-Vt,i.zIndex-Vt,t))}for(var a=0;a<e.blobs.length;++a){var u=e.blobs[a],c=Math.abs(300*Math.sin(a+f.u9.gameTimeMs/2e3));u.position.y=(0,Tt.uZ)(n,u.zIndex,t)-c,c<=25&&(u.position.x=Math.random()*r)}},e.sortableChildren=!0,e.on("added",(function(){f.u9.add(e.timeUpdate),e.sizeChangedConnection=Wt.sizeChanged.connect((function(){return e.layoutUpdated()})),e.layoutUpdated()})),e.on("removed",(function(){var t;f.u9.remove(e.timeUpdate),null===(t=e.sizeChangedConnection)||void 0===t||t.disconnect(),delete e.sizeChangedConnection})),e}return e=a,(r=[{key:"layoutUpdated",value:function(){for(var t=this,e=Wt.stageHeight,r=Wt.stageWidth,n=it.Mo["loading/Loading_wave"],o=Math.ceil(e/Vt)+1,i=function(e){for(var o=0;o<3;++o){var i,a=null!==(i=t.blobPool[0])&&void 0!==i?i:t.addChild(new _t.j(it.Mo["loading/blob"]));a.position.set(Math.random()*r,e*Vt),a.zIndex=a.position.y,a.tint=t.skin.backgroundColors[e%t.skin.backgroundColors.length],a.scale.set(Math.random()+.25),t.blobs.push(a)}var c=t.addChild(new u.o(n));return c.height=n.height,c.tilePosition.x=Math.random()*r,c},a={x:0,y:-192},c=0;c<Math.max(o,this.wavePool.length);++c){var s,l,f,h=Math.trunc((a.y+Vt)/Vt),d=null!==(f=(s=this.wavePool)[l=c])&&void 0!==f?f:s[l]=i(h);c<o?(d.position.copyFrom(a),d.width=r,d.zIndex=a.y+Vt,d.tint=this.skin.backgroundColors[h%this.skin.backgroundColors.length],d.visible=!0,a.y+=Vt):d.visible=!1}}},{key:"desaturate",value:function(){this.filters=this.desaturateFilters}},{key:"reset",value:function(){this.filters=null}},{key:"fillAmount",get:function(){return Bt(this,Zt)},set:function(t){var e=this;this.fillTween&&(0,G.Od)(this.fillTween),this.fillTween=new G.kX({t:Bt(this,Zt)}).to({t:t},100).onUpdate((function(t){!function(t,e,r){(function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}})(t,Ht(t,e,"set"),r)}(e,Zt,t.t)})).start()}}])&&zt(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(nt.W2),Yt=r(4392),Jt=r(4810),Xt=r(7484),$t=r.n(Xt),Kt=r(1646),Qt=r.n(Kt),te=r(4110),ee=r.n(te),re=r(6607),ne=r.n(re),oe=r(6806),ie=r.n(oe),ae={backgroundColors:[10717890,7506542,8475808,12855951,6903713,2434344,10510384],spriteAssets:[{name:"ui",image:{alpha:r.p+"685fc3ae6049d69a56f6.png",color:r.p+"06d887cf4a28fa69a080.jpg"},spritesheet:{frames:{"ui/arrow_down":{frame:{x:467,y:180,w:118,h:41},rotated:!0},"ui/arrow_left":{frame:{x:335,y:180,w:42,h:118}},"ui/arrow_right":{frame:{x:379,y:180,w:42,h:118}},"ui/arrow_up":{frame:{x:423,y:180,w:118,h:42},rotated:!0},"ui/back_button":{frame:{x:642,y:167,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/Button_bg_box":{frame:{x:112,y:306,w:212,h:212},trimmed:!0,spriteSourceSize:{x:1,y:1,w:212,h:212},sourceSize:{w:214,h:214}},"ui/buttonBg":{frame:{x:1,y:1,w:528,h:109},rotated:!0},"ui/download_button":{frame:{x:651,y:1,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/finish_button":{frame:{x:228,y:520,w:121,h:121}},"ui/freepaint_button":{frame:{x:648,y:460,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/gallerychristmas":{frame:{x:1,y:531,w:159,h:111}},"ui/galleryhalloween":{frame:{x:535,y:463,w:159,h:111},rotated:!0},"ui/gallerymain":{frame:{x:626,y:299,w:159,h:111},rotated:!0},"ui/hand1":{frame:{x:335,y:1,w:148,h:177},trimmed:!0,spriteSourceSize:{x:0,y:10,w:148,h:177},sourceSize:{w:149,h:188}},"ui/hand2":{frame:{x:351,y:494,w:148,h:182},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:4,w:148,h:182},sourceSize:{w:149,h:188}},"ui/hand3":{frame:{x:326,y:306,w:148,h:186},trimmed:!0,spriteSourceSize:{x:0,y:0,w:148,h:186},sourceSize:{w:149,h:188}},"ui/hand4":{frame:{x:476,y:300,w:148,h:161},trimmed:!0,spriteSourceSize:{x:0,y:25,w:148,h:161},sourceSize:{w:149,h:188}},"ui/next_button":{frame:{x:739,y:299,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/paintbucket":{frame:{x:871,y:1,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/Palette_button":{frame:{x:485,y:1,w:164,h:164},trimmed:!0,spriteSourceSize:{x:0,y:0,w:164,h:164},sourceSize:{w:165,h:165}},"ui/playADbig":{frame:{x:112,y:1,w:221,h:303},trimmed:!0,spriteSourceSize:{x:6,y:0,w:221,h:303},sourceSize:{w:235,h:303}},"ui/redo_button":{frame:{x:871,y:133,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/rgb_slide_bg":{frame:{x:651,y:133,w:40,h:31}},"ui/rgb_slider":{frame:{x:774,y:133,w:91,h:91}},"ui/Selected_palette_indicator":{frame:{x:783,y:1,w:70,h:87},trimmed:!0,spriteSourceSize:{x:12,y:4,w:70,h:87},sourceSize:{w:87,h:95}},"ui/share_button":{frame:{x:871,y:265,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/shut_icon":{frame:{x:780,y:529,w:111,h:111}},"ui/tooltip_box":{frame:{x:162,y:520,w:124,h:64},rotated:!0},"ui/undo_button":{frame:{x:871,y:397,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/X_button":{frame:{x:510,y:167,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}}},animations:{"ui/hand":["ui/hand1","ui/hand2","ui/hand3","ui/hand4"]},meta:{image:"halloween.spritesheet.png",size:{w:1002,h:645},scale:"1"}}}]},ue={backgroundColors:[16692455,13018111,12975353,7255807,16755627,11401431,16732714,16742141,11009971,16777169],spriteAssets:[{name:"ui",image:{alpha:r.p+"6e3089f58cdd868b614b.png",color:r.p+"d779a48bb5c7c480b9e8.jpg"},spritesheet:{frames:{"ui/arrow_down":{frame:{x:1263,y:150,w:118,h:41},rotated:!0},"ui/arrow_left":{frame:{x:438,y:205,w:42,h:118}},"ui/arrow_right":{frame:{x:884,y:288,w:42,h:118}},"ui/arrow_up":{frame:{x:488,y:414,w:118,h:42}},"ui/back_button":{frame:{x:1131,y:167,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/Button_bg_box":{frame:{x:224,y:112,w:212,h:212},trimmed:!0,spriteSourceSize:{x:1,y:1,w:212,h:212},sourceSize:{w:214,h:214}},"ui/buttonBg":{frame:{x:1,y:1,w:528,h:109}},"ui/download_button":{frame:{x:224,y:326,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/facebook_button":{frame:{x:356,y:326,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/finish_button":{frame:{x:1192,y:299,w:121,h:121}},"ui/freepaint_button":{frame:{x:858,y:151,w:139,h:135},trimmed:!0,spriteSourceSize:{x:2,y:3,w:139,h:135},sourceSize:{w:144,h:139}},"ui/hand1":{frame:{x:903,y:1,w:148,h:177},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:10,w:148,h:177},sourceSize:{w:149,h:188}},"ui/hand2":{frame:{x:719,y:1,w:148,h:182},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:4,w:148,h:182},sourceSize:{w:149,h:188}},"ui/hand3":{frame:{x:531,y:1,w:148,h:186},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:0,w:148,h:186},sourceSize:{w:149,h:188}},"ui/hand4":{frame:{x:695,y:151,w:148,h:161},rotated:!0,trimmed:!0,spriteSourceSize:{x:0,y:25,w:148,h:161},sourceSize:{w:149,h:188}},"ui/insta_button":{frame:{x:488,y:282,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/navi_bg_slice":{frame:{x:1,y:428,w:8,h:86},rotated:!0},"ui/next_button":{frame:{x:620,y:301,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/paintbucket":{frame:{x:531,y:151,w:129,h:162},rotated:!0,trimmed:!0,spriteSourceSize:{x:4,y:1,w:129,h:162},sourceSize:{w:138,h:166}},"ui/Palette_button":{frame:{x:1082,y:1,w:164,h:164},trimmed:!0,spriteSourceSize:{x:0,y:0,w:164,h:164},sourceSize:{w:165,h:165}},"ui/playADbig":{frame:{x:1,y:112,w:221,h:248},trimmed:!0,spriteSourceSize:{x:6,y:7,w:221,h:248},sourceSize:{w:233,h:261}},"ui/redo_button":{frame:{x:752,y:301,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/rgb_slide_bg":{frame:{x:127,y:362,w:40,h:31}},"ui/rgb_slider":{frame:{x:438,y:112,w:91,h:91}},"ui/selected_line":{frame:{x:1315,y:73,w:9,h:3},rotated:!0},"ui/Selected_palette_indicator":{frame:{x:1248,y:1,w:70,h:70}},"ui/share_button":{frame:{x:928,y:299,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/shut_icon":{frame:{x:1248,y:73,w:75,h:65},rotated:!0},"ui/tooltip_box":{frame:{x:1,y:362,w:124,h:64}},"ui/undo_button":{frame:{x:1060,y:299,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}},"ui/X_button":{frame:{x:999,y:167,w:130,h:130},trimmed:!0,spriteSourceSize:{x:8,y:8,w:130,h:130},sourceSize:{w:146,h:146}}},animations:{"ui/hand":["ui/hand1","ui/hand2","ui/hand3","ui/hand4"]},meta:{image:"ui.spritesheet.png",size:{w:1319,h:457},scale:"1"}}}]};function ce(t){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(t)}function se(t){return function(t){if(Array.isArray(t))return de(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||he(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=he(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function fe(){fe=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new P(o||[]);return n(a,"_invoke",{value:x(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function y(){}var p={};c(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(k([])));m&&m!==e&&r.call(m,i)&&(p=m);var g=y.prototype=h.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,u){var c=l(t[n],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==ce(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=S(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=y,n(g,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),c(g,u,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function he(t,e){if(t){if("string"==typeof t)return de(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(t,e):void 0}}function de(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ye(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function pe(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ye(i,n,o,a,u,"next",t)}function u(t){ye(i,n,o,a,u,"throw",t)}a(void 0)}))}}function ve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,je(n.key),n)}}function me(){return me="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=ge(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},me.apply(this,arguments)}function ge(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Se(t)););return t}function be(t,e){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},be(t,e)}function we(t,e){if(e&&("object"===ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xe(t)}function xe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Se(t){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Se(t)}function Oe(t,e,r){return(e=je(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function je(t){var e=function(t,e){if("object"!==ce(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===ce(e)?e:String(e)}$t().extend(Qt()),$t().extend(ee()),$t().extend(ne());var Pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&be(t,e)}(d,t);var e,n,o,i,a,u,c,l,h=(c=d,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Se(c);if(l){var r=Se(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return we(this,t)});function d(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),Oe(xe(t=h.call(this)),"galleryView",void 0),Oe(xe(t),"coloringView",void 0),Oe(xe(t),"finalizeView",void 0),Oe(xe(t),"background",void 0),Oe(xe(t),"_currentView",void 0),Oe(xe(t),"timings",{}),Wt=new N(rt.assetDesignWidth,rt.assetDesignHeight,{backgroundColor:16742141,resolution:Math.min(devicePixelRatio,2)},z.FillReorient),t.subSystems.push(new tt),Wt.appendToDom(),Ut=new Jt.lp,t}return e=d,n=[{key:"initGame",value:(u=pe(fe().mark((function t(){var e,n,o,i,a,u,c,s;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=ke()?ae:ue,t.next=3,Wt.init();case 3:return this.background=Wt.stage.addChild(new qt(e)),t.next=6,me(Se(d.prototype),"initGame",this).call(this);case 6:return et.ZP.init([{type:et.Us.VideoAd,count:12,preload:2}]),n=new Et(e,this.background),this.currentView=[n],t.next=11,n.loadAll([Promise.all([r.e(688),r.e(730),r.e(676),r.e(465),r.e(68)]).then(r.bind(r,7068)),Promise.all([r.e(730),r.e(977)]).then(r.bind(r,2977)),Promise.all([r.e(688),r.e(730),r.e(676),r.e(465),r.e(516)]).then(r.bind(r,516)),Promise.all([r.e(688),r.e(676),r.e(885)]).then(r.bind(r,2885))]);case 11:o=t.sent,f=4,i=function(t){if(Array.isArray(t))return t}(l=o)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(l,f)||he(l,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],u=i[1],c=i[2],s=i[3],this.startApp(new a.Gallery,new u.Coloring2D(this.background),new c.ColoringUI,new s.Finalize),n.destroy();case 19:case"end":return t.stop()}var l,f}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"startApp",value:function(t,e,r,n){var o=this;t.drawingSelected.connect((function(t,e){var r;oe.GameAnalytics.addProgressionEvent(ie().EGAProgressionStatus.Start,null!==(r=null==t?void 0:t.id)&&void 0!==r?r:null===Yt.gS||void 0===Yt.gS?void 0:Yt.gS.drawingData.id),o.showColoring(t,e)})),r.returnToGallery.connect((function(){oe.GameAnalytics.addProgressionEvent(ie().EGAProgressionStatus.Fail,null===Yt.gS||void 0===Yt.gS?void 0:Yt.gS.drawingData.id),oe.GameAnalytics.addDesignEvent("Timing:Coloring:".concat(null===Yt.gS||void 0===Yt.gS?void 0:Yt.gS.drawingData.id),Math.trunc(f.u9.gameTimeMs-o.timings.coloring),{reason:"return"}),o.showGallery(!1)})),r.finalizeDrawing.connect((function(){oe.GameAnalytics.addDesignEvent("Timing:Coloring:".concat(null===Yt.gS||void 0===Yt.gS?void 0:Yt.gS.drawingData.id),Math.trunc(f.u9.gameTimeMs-o.timings.coloring),{reason:"next"}),o.showFinalize()})),n.returnToDrawing.connect((function(){oe.GameAnalytics.addDesignEvent("Timing:Finalize:".concat(null===Yt.gS||void 0===Yt.gS?void 0:Yt.gS.drawingData.id),Math.trunc(f.u9.gameTimeMs-o.timings.finalize),{reason:"return"}),o.showColoring()})),n.finishedWorkOfArt.connect((function(){if(Yt.gS){var t,e;oe.GameAnalytics.addProgressionEvent(ie().EGAProgressionStatus.Complete,Yt.gS.drawingData.id),oe.GameAnalytics.addDesignEvent("Timing:Finalize:".concat(Yt.gS.drawingData.id),Math.trunc(f.u9.gameTimeMs-o.timings.finished),{reason:"next"});var r={palettes:function(t){var e,r=new Map,n=le(t.statistics.palettesByArea.values());try{for(n.s();!(e=n.n()).done;){var o,i=le(e.value);try{for(i.s();!(o=i.n()).done;){var a,u,c=o.value;void 0!==(null===(a=rt.palettes.get(c))||void 0===a?void 0:a.colors)&&r.set(c,(null!==(u=r.get(c))&&void 0!==u?u:0)+1)}}catch(t){i.e(t)}finally{i.f()}}}catch(t){n.e(t)}finally{n.f()}var s=Array.from(r.entries());return 0===s.length?[-1,0]:s.flat()}(Yt.gS.commandProcessor),outlineColor:Yt.gS.postprocess.outlineColor,effect:null!==(t=null===(e=Yt.gS.postprocess.effect)||void 0===e?void 0:e.name)&&void 0!==t?t:"none"};oe.GameAnalytics.addDesignEvent("Drawing:Saved:".concat(Yt.gS.drawingData.id),void 0,{palettes:r.palettes.join(),outlineColor:r.outlineColor.toFixed(0),effect:r.effect}),oe.GameAnalytics.addDesignEvent("Stats:Drawing:".concat(Yt.gS.drawingData.id),1);var n,i=le(r.palettes);try{for(i.s();!(n=i.n()).done;){var a,u=n.value;oe.GameAnalytics.addDesignEvent("Stats:Palette:".concat(null===(a=rt.palettes.get(u))||void 0===a?void 0:a.name),1)}}catch(t){i.e(t)}finally{i.f()}oe.GameAnalytics.addDesignEvent("Stats:Outline:".concat(r.outlineColor),1),oe.GameAnalytics.addDesignEvent("Stats:Effect:".concat(r.effect),1)}o.showGallery(!0)})),this.galleryView=[t],this.coloringView=[e,r],this.finalizeView=[n],this.showGallery(!0)}},{key:"showGallery",value:(a=pe(fe().mark((function t(e){return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s.Z.gameplayStop(),e&&et.ZP.consumeInterstitialAd().then((function(t){var e=t.successful,r=t.mediator;e?oe.GameAnalytics.addAdEvent(ie().EGAAdAction.Show,ie().EGAAdType.Interstitial,r,"Show gallery"):oe.GameAnalytics.addAdEvent(ie().EGAAdAction.FailedShow,ie().EGAAdType.Interstitial,r,"Show gallery")})),(0,Yt.Dq)(),this.currentView=this.galleryView;case 4:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"showColoring",value:(i=pe(fe().mark((function t(e,r){var n,o;return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=void 0===e,et.ZP.consumeInterstitialAd().then((function(t){var r,o,i=t.successful,a=t.mediator;i?oe.GameAnalytics.addAdEvent(ie().EGAAdAction.Show,ie().EGAAdType.Interstitial,a,"Coloring started",{level_name:null!==(r=null==e?void 0:e.id)&&void 0!==r?r:null===Yt.gS||void 0===Yt.gS?void 0:Yt.gS.drawingData.id}):oe.GameAnalytics.addAdEvent(ie().EGAAdAction.FailedShow,ie().EGAAdType.Interstitial,a,"Coloring started",{level_name:null!==(o=null==e?void 0:e.id)&&void 0!==o?o:null===Yt.gS||void 0===Yt.gS?void 0:Yt.gS.drawingData.id}),n||(n=!0,s.Z.gameplayStart())})),this.timings.coloring=f.u9.gameTimeMs,void 0===this.coloringView){t.next=10;break}return this.currentView=this.coloringView,this.coloringView[1].interactiveChildren=!1,t.next=8,null===(o=this.coloringView)||void 0===o?void 0:o[0].loadImage(e,r);case 8:this.coloringView[1].interactiveChildren=!0,n||(n=!0,s.Z.gameplayStart());case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"showFinalize",value:(o=pe(fe().mark((function t(){return fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.timings.finalize=f.u9.gameTimeMs,void 0===this.finalizeView){t.next=7;break}return this.currentView=this.finalizeView,this.finalizeView[0].interactiveChildren=!1,t.next=6,this.finalizeView[0].loadImage();case 6:this.finalizeView[0].interactiveChildren=!0;case 7:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"currentView",get:function(){return this._currentView},set:function(t){var e,r;void 0!==this._currentView&&(e=Wt.stage).removeChild.apply(e,se(this._currentView)),this._currentView=t,void 0!==t&&(r=Wt.stage).addChild.apply(r,se(t))}}],n&&ve(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),d}(l.lA);function ke(){return $t()().isBetween("2022-10-01T00:00:00Z","2022-10-31T00:00:00Z","day","[]")}},4392:function(t,e,r){r.d(e,{D7:function(){return s},Dq:function(){return f},cA:function(){return u},gS:function(){return a},kh:function(){return l},s_:function(){return c}}),r(7042),r(1539),r(1038),r(8783),r(4916),r(7601),r(2526),r(1817),r(2165),r(6992),r(3948),r(1703);var n=r(7609),o=r(8381);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var a,u=new n.X(o.qK.Fill),c=new n.X(16),s=new n.X(9);function l(t){void 0!==a&&f(),a=t}function f(){if(void 0!==a){var t=a,e=t.temporaryTextures,r=t.commandProcessor,n=t.drawing,o=t.overlay;r.destroy();var u,c=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,a=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw a}}}}(e);try{for(c.s();!(u=c.n()).done;)u.value.destroy(!0)}catch(t){c.e(t)}finally{c.f()}n.destroy(!0),o.destroy(!0),a=void 0}}},3405:function(t,e,r){var n=r(3345),o=r(7008),i=r(1018),a=r(7838),u=r(7002),c=r(4981),s=r(2624),l=r(2098),f=r(846),h=new n.m;h.sepia(!0);var d=new n.m;d.browni(!0);var y=new n.m;y.kodachrome(!0);var p=new n.m;p.lsd(!0);var v=new n.m;v.polaroid(!0);var m=new n.m;m.technicolor(!0);var g=new n.m;g.vintage(!0);var b=new o.x(10),w=new i.N({threshold:.85}),x=new a.V,S=new u.X({vignetting:.25}),O=new c.M,j=new s.w,P=new l.G(8),k=new n.m;k.negative(!0);var C={None:{filters:[]},Sepia:{filters:[h]},Chocolate:{filters:[d],pay:!0},Vintage:{filters:[g]},Kodachrome:{filters:[y],pay:!0},Psychedelic:{filters:[p]},Polaroid:{filters:[v]},Technicolor:{filters:[m],pay:!0},Ascii:{filters:[b]},Bloom:{filters:[w],pay:!0},Dots:{filters:[x]},Crt:{filters:[S],pay:!0},Glitch:{filters:[O]},Film:{filters:[j]},Pixel:{filters:[P],pay:!0},Negative:{filters:[k]},Noise:{filters:[new f.L],pay:!0}};e.Z=C},286:function(t,e,r){var n;function o(t){return 1===t.$ver}r.d(e,{$:function(){return o},g:function(){return n}}),function(t){t[t.Aniway=0]="Aniway",t[t.ReColor=1]="ReColor"}(n||(n={}))},8381:function(t,e,r){r.d(e,{CU:function(){return g},Dy:function(){return p},Kr:function(){return S},L:function(){return y},Qq:function(){return d},R2:function(){return j},T:function(){return x},UI:function(){return O},WP:function(){return P},Wx:function(){return h},b$:function(){return w},eP:function(){return b},kp:function(){return m},qK:function(){return o},u0:function(){return v},wI:function(){return n}}),r(7658),r(561),r(6992),r(1539),r(189),r(8783),r(3948),r(1532),r(6649),r(6078),r(2526),r(1817),r(1703),r(9653),r(9070),r(2165),r(1038),r(7042),r(4916),r(7601);var n,o,i=r(7823);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function u(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function l(t,e,r){return(e=f(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===a(e)?e:String(e)}function h(t){"paletteIndex"in t.color&&(t.color.paletteId=t.color.paletteIndex,delete t.color.paletteIndex)}function d(t){"index"in t.data&&(t.data.color=t.data.index,delete t.data.index)}function y(t){if("index"in t.data){var e=t;e.data.palette=t.data.index,e.data.color=0,delete t.data.index}}function p(t){return t.commandType===n.PointerDown||t.commandType===n.PointerMove||t.commandType===n.PointerUp||t.commandType===n.Clear}function v(t){return t.commandType===n.PointerDown}function m(t){return t.commandType===n.PointerMove}function g(t){return t.commandType===n.PointerUp}function b(t){return t.commandType===n.ChangePalette}function w(t){return t.commandType===n.ChangeColor}function x(t){return t.commandType===n.ChangeTool}function S(t){return t.commandType===n.Undo}function O(t){return t.commandType===n.Redo}function j(t){return t.commandType===n.Clear}!function(t){t[t.PointerDown=1]="PointerDown",t[t.PointerMove=2]="PointerMove",t[t.PointerUp=3]="PointerUp",t[t.ChangePalette=10]="ChangePalette",t[t.ChangeColor=11]="ChangeColor",t[t.ChangeTool=12]="ChangeTool",t[t.Clear=100]="Clear",t[t.Undo=101]="Undo",t[t.Redo=102]="Redo"}(n||(n={})),function(t){t[t.Brush=1]="Brush",t[t.Fill=2]="Fill",t[t.Gradient=3]="Gradient"}(o||(o={}));var P=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"processedDrawCommandCount",0),l(this,"nextDrawCommandIndex",0),l(this,"drawCommands",[]),l(this,"processedCommandCount",0),l(this,"allCommands",[]),l(this,"tickProcess",(function(){return e.processCommands(!1,!1)})),i.u9.add(this.tickProcess)}var e,r;return e=t,r=[{key:"processHistory",value:function(t){var e,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r&&(this.allCommands.length=0),(e=this.allCommands).push.apply(e,u(t)),this.processCommands(!0,r),r&&this.reprocessDrawCommands()}},{key:"processCommands",value:function(t,e){for(var r=this.statistics.palettesByArea;this.processedCommandCount<this.allCommands.length;){var n=this.allCommands[this.processedCommandCount++];if(p(n)&&(this.nextDrawCommandIndex<this.drawCommands.length&&(this.drawCommands.splice(this.nextDrawCommandIndex),this.nextDrawCommandIndex=this.drawCommands.length,this.processedDrawCommandCount=this.drawCommands.length),this.drawCommands.push(n),++this.nextDrawCommandIndex,++this.processedDrawCommandCount),S(n)?this.undo():O(n)?this.redo():j(n)&&this.clear(),g(n)){var i,a=null!==(i=r.get(n.data.area))&&void 0!==i?i:new Set;r.has(n.data.area)||r.set(n.data.area,a),n.data.tool===o.Brush?a.add(n.data.color.paletteId):n.data.tool===o.Fill&&(a.clear(),a.add(n.data.color.paletteId))}e||this.executeCommand(n,t)}this.statistics.drawCommandCount=this.processedDrawCommandCount}},{key:"destroy",value:function(){i.u9.remove(this.tickProcess)}},{key:"addCommand",value:function(t,e,r){var n={commandType:t,sequenceId:e,data:r,timeStamp:performance.now()};if(w(n)){var o=this.allCommands[this.allCommands.length-1];void 0!==o&&o.commandType===n.commandType?(o.data=n.data,o.timeStamp=n.timeStamp,this.processedCommandCount===this.allCommands.length&&--this.processedCommandCount):this.allCommands.push(n)}else this.allCommands.push(n)}},{key:"cancelCommandSequence",value:function(t){for(var e=this.allCommands.length-1;e>=0;--e){var r=this.allCommands[e];if(r.sequenceId===t&&(this.allCommands.splice(e,1),v(r)))break}this.processedCommandCount=0,this.clearDrawCommands(),this.processCommands(!0,!0),this.reprocessDrawCommands()}},{key:"clearDrawCommands",value:function(){this.drawCommands.length=0,this.nextDrawCommandIndex=0,this.processedDrawCommandCount=0}},{key:"getLastProcessedSequenceStart",value:function(){for(var t,e=this.processedDrawCommandCount-1;e>=0;--e){var r=this.drawCommands[e];if(void 0===t&&g(r))t=r.sequenceId;else if(r.commandType===n.PointerDown&&t===r.sequenceId)return e}return 0}},{key:"getNextUnprocessedSequenceEnd",value:function(){for(var t,e=this.processedDrawCommandCount;e<this.drawCommands.length;++e){var r=this.drawCommands[e];if(void 0===t&&v(r))t=r.sequenceId;else if(r.commandType===n.PointerUp&&t===r.sequenceId)return e+1}return this.nextDrawCommandIndex}},{key:"reprocessDrawCommands",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new Map;this.processedDrawCommandCount=0;for(var n=void 0!==t?this.drawCommands.length:this.nextDrawCommandIndex;this.processedDrawCommandCount<n;){var o,i=this.drawCommands[this.processedDrawCommandCount++];void 0!==t&&i.sequenceId!==t||(j(i)?this.executeCommand(i,e):r.has(i.data.area)?null===(o=r.get(i.data.area))||void 0===o||o.push(i):r.set(i.data.area,[i]))}this.fastDrawCommands(r)}},{key:"undo",value:function(){var t=this.drawCommands[this.processedDrawCommandCount-1];if(void 0!==t)if(j(t))--this.nextDrawCommandIndex,--this.processedDrawCommandCount;else{var e=this.getLastProcessedSequenceStart();this.nextDrawCommandIndex=e,this.processedDrawCommandCount=e}}},{key:"redo",value:function(){var t=this.getNextUnprocessedSequenceEnd();this.nextDrawCommandIndex=t,this.processedDrawCommandCount=t}},{key:"clear",value:function(){this.nextDrawCommandIndex=0,this.processedDrawCommandCount=0,this.statistics.palettesByArea.clear()}}],r&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},799:function(t,e,r){r.d(e,{T:function(){return o},h:function(){return n}});var n={fontFamily:"Poppins",lineJoin:"round"},o={selectedColor:"#ffffffff",unselectedColor:"#202020A0"}},4810:function(t,e,r){r.d(e,{lp:function(){return W},Wk:function(){return Z},nm:function(){return U}}),r(1539),r(8674),r(3689),r(1703),r(6992),r(8783),r(3948),r(285),r(1637),r(6649),r(6078),r(2526),r(1817),r(9653),r(9070),r(2165),r(2443),r(9341),r(3706),r(2703),r(489),r(7658),r(4747),r(8304),r(7042),r(1038),r(4916),r(7601),r(7941),r(7327),r(5003),r(9337),r(3321);var n=r(7484),o=r.n(n),i=r(8844),a=r(1585),u=r(1014),c=r(8033),s=r(6710),l=r(8942),f=r(9658),h=r(9602),d=r(9088),y=r(286),p=r(8381);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O(n.key),n)}}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function b(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return w(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function S(t,e,r){return(e=O(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===v(e)?e:String(e)}r(1299),r(2419);var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(a,t);var e,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=x(n);if(o){var r=x(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return b(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),S(w(e=i.call(this,"attribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 otherMatrix;\r\n\r\nvarying vec2 vMaskCoord;\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = aTextureCoord;\r\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\r\n}","varying vec2 vMaskCoord;\r\nvarying vec2 vTextureCoord;\r\n\r\nuniform sampler2D uSampler;\r\nuniform sampler2D mask;\r\nuniform float npmAlpha;\r\nuniform vec4 maskClamp;\r\n\r\nvoid main(void)\r\n{\r\n    float clip = step(3.5,\r\n        step(maskClamp.x, vMaskCoord.x) +\r\n        step(maskClamp.y, vMaskCoord.y) +\r\n        step(vMaskCoord.x, maskClamp.z) +\r\n        step(vMaskCoord.y, maskClamp.w));\r\n\r\n    vec4 original = texture2D(uSampler, vTextureCoord);\r\n    vec4 masky = texture2D(mask, vMaskCoord);\r\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\r\n\r\n    original *= (alphaMul * (1.0 - masky.r) * clip);\r\n\r\n    gl_FragColor = original;\r\n}",void 0)),"_maskSprite",void 0),S(w(e),"maskMatrix",void 0),e.maskSprite=t,e.maskMatrix=new f.y3,e}return e=a,(r=[{key:"maskSprite",get:function(){return this._maskSprite},set:function(t){this._maskSprite&&(this._maskSprite.renderable=!0),this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}},{key:"apply",value:function(t,e,r,n){var o=this._maskSprite,i=o._texture;i.valid&&(i.uvMatrix||(i.uvMatrix=new s.UX(i,0)),i.uvMatrix.update(),this.uniforms.npmAlpha=i.baseTexture.alphaMode?0:1,this.uniforms.mask=i,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,o).prepend(i.uvMatrix.mapCoord),this.uniforms.maskClamp=i.uvMatrix.uClampFrame,t.applyFilter(this,e,r,n))}}])&&m(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(s.wn),P=r(3405),k=r(5841);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function L(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A(){A=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),u=new P(o||[]);return n(a,"_invoke",{value:x(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function d(){}function y(){}var p={};c(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(k([])));m&&m!==e&&r.call(m,i)&&(p=m);var g=y.prototype=h.prototype=Object.create(p);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,u){var c=l(t[n],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==C(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=S(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=l(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=y,n(g,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:d,configurable:!0}),d.displayName=c(y,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),c(g,u,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function D(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function z(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){D(i,n,o,a,u,"next",t)}function u(t){D(i,n,o,a,u,"throw",t)}a(void 0)}))}}function R(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I(n.key),n)}}function M(t,e,r){return(e=I(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I(t){var e=function(t,e){if("object"!==C(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===C(e)?e:String(e)}var F="worksofart_".concat("colorapp"),N="thumbnails",G="history",B="postprocess",H=new f.y3(1,0,0,1,0,0),W=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,"db",void 0),M(this,"overlayFilters",[new j]),M(this,"persistentStoragePermissionStatus",void 0),this.askForPermissionAndPersist(),this.db=this.openDatabase()}var e,r,n,f,h,y,v,m,g,b,w,x,S;return e=t,r=[{key:"openDatabase",value:(S=z(A().mark((function t(){var e=this;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=indexedDB.open(F,4);n.onupgradeneeded=function(t){return e.onUpgradeNeeded(t)},n.onsuccess=function(r){var n=r.target.result;n.onclose=function(){e.db=e.openDatabase()},t(n)},n.onblocked=function(t){},n.onerror=function(t){r(t.target.error)}})));case 1:case"end":return t.stop()}}),t)}))),function(){return S.apply(this,arguments)})},{key:"onUpgradeNeeded",value:function(t){var e=t.oldVersion,r=t.target,n=r.result;if(e<1&&(n.createObjectStore(N),n.createObjectStore(G)),e<2&&n.createObjectStore(B),e<3){var o,i=(null!==(o=r.transaction)&&void 0!==o?o:n.transaction([G],"readwrite")).objectStore(G).openCursor();i.onsuccess=function(){var t=i.result;if(t){var e,r=t.value,n=L(r);try{for(n.s();!(e=n.n()).done;){var o=e.value;(0,p.Dy)(o)&&void 0!==o.data&&(0,p.Wx)(o.data)}}catch(t){n.e(t)}finally{n.f()}t.update(r),t.continue()}}}if(e<4){var a,u=(null!==(a=r.transaction)&&void 0!==a?a:n.transaction([G],"readwrite")).objectStore(G).openCursor();u.onsuccess=function(){var t=u.result;if(t){var e,r=t.value,n=L(r);try{for(n.s();!(e=n.n()).done;){var o=e.value;(0,p.b$)(o)?(0,p.Qq)(o):(0,p.eP)(o)&&(0,p.L)(o)}}catch(t){n.e(t)}finally{n.f()}t.update(r),t.continue()}}}}},{key:"askForPermissionAndPersist",value:(x=z(A().mark((function t(){var e=this;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!("permissions"in navigator)){t.next=11;break}return t.prev=1,t.next=4,navigator.permissions.query({name:"persistent-storage"});case 4:this.persistentStoragePermissionStatus=t.sent,this.persistentStoragePermissionStatus.addEventListener("change",(function(){return e.checkPermissionsAndPersist()})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),delete this.persistentStoragePermissionStatus;case 11:return t.next=13,this.checkPermissionsAndPersist();case 13:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(){return x.apply(this,arguments)})},{key:"checkPermissionsAndPersist",value:(w=z(A().mark((function t(){var e,r;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!this.persistentStoragePermissionStatus||"denied"!==this.persistentStoragePermissionStatus.state,!("storage"in navigator)){t.next=6;break}return t.next=4,navigator.storage.persisted();case 4:r=t.sent,e&&!r&&navigator.storage.persist();case 6:case"end":return t.stop()}}),t,this)}))),function(){return w.apply(this,arguments)})},{key:"composeWorkOfArt",value:function(t,e){var r,n,o=d.pixi.renderer,i=t.drawing,l=t.postprocess,f=new a.W2,h=f.addChild(new u.TC);h.beginFill(16777215,1),h.drawRect(0,0,i.width,i.height),f.addChild(new c.j(i));var y,p=this.colorOverlay(t);if(f.addChild(new c.j(p)),l.effect&&(f.filters=null!==(r=P.Z[null===(n=l.effect)||void 0===n?void 0:n.name].filters)&&void 0!==r?r:null),e instanceof s.TI)H.a=e.width/i.width,H.d=e.height/i.height,y=e;else{var v,m,g=Math.trunc(null!==(v=null==e?void 0:e.x)&&void 0!==v?v:i.width),b=Math.trunc(null!==(m=null==e?void 0:e.y)&&void 0!==m?m:i.height);H.a=g/i.width,H.d=b/i.height,y=s.TI.create({width:g,height:b})}return o.render(f,{renderTexture:y,clear:!0,transform:H,skipUpdateTransform:!0}),p.destroy(!0),f.destroy({children:!0}),y}},{key:"colorOverlay",value:function(t){var e=t.overlay,r=k.outlines.get(t.postprocess.outlineColor);if(void 0===r)throw new Error("Unknown outline color ".concat(t.postprocess.outlineColor));var n=new u.TC;n.beginFill((0,l.qm)(r.color),1),n.drawRect(0,0,e.width,e.height);var o=n.addChild(new c.j(e));this.overlayFilters[0].maskSprite=o,n.filters=this.overlayFilters;var i=d.pixi.renderer.generateTexture(n);return o.destroy(),n.destroy(),i}},{key:"renderToBlob",value:(b=z(A().mark((function t(e){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){d.pixi.renderer.plugins.extract.canvas(e).toBlob(function(){var e=z(A().mark((function e(n){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===n?r(new Error("No blob.")):t(n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})));case 1:case"end":return t.stop()}}),t)}))),function(t){return b.apply(this,arguments)})},{key:"getShare",value:(g=z(A().mark((function t(e){var r,n,a;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.renderToBlob(e);case 2:return r=t.sent,n=i.Z.gameDownloadURL?{url:i.Z.gameDownloadURL}:{},a=_({title:"My Anycolor drawing",files:[new File([r],"Anycolor ".concat(o()().format("YYYYMMDD HHmmss"),".png"),{type:r.type})]},n),navigator.canShare&&!navigator.canShare(a)&&delete a.files,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return g.apply(this,arguments)})},{key:"download",value:(m=z(A().mark((function t(e){var r,n,i;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.renderToBlob(e);case 2:r=t.sent,n=URL.createObjectURL(r);try{"download"in(i=document.createElement("a"))?(i.setAttribute("href",n),i.setAttribute("download","Anycolor ".concat(o()().format("YYYYMMDD HHmmss"),".png")),i.dispatchEvent(new MouseEvent("click"))):window.open(n,"_blank","")}finally{URL.revokeObjectURL(n)}case 5:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"saveWorkOfArt",value:(v=z(A().mark((function t(e,r){var n,o,i,a,u,c;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.drawingData,o=e.commandProcessor,i=e.postprocess,a=null!=r?r:this.composeWorkOfArt(e),t.prev=2,t.next=5,this.renderToBlob(a);case 5:u=t.sent;case 6:return t.prev=6,void 0===r&&a.destroy(!0),t.finish(6);case 9:return t.next=11,this.db;case 11:return c=t.sent,t.abrupt("return",new Promise((function(t,e){var r=c.transaction([N,G,B],"readwrite");r.oncomplete=function(){return t()},r.onerror=function(){return e(r.error)},r.onabort=function(){return e(r.error)},r.objectStore(N).put(u,n.id),r.objectStore(G).put(o.allCommands,n.id),r.objectStore(B).put(i,n.id),r.commit()})));case 13:case"end":return t.stop()}}),t,this,[[2,,6,9]])}))),function(t,e){return v.apply(this,arguments)})},{key:"loadWorkOfArtThumbnail",value:(y=z(A().mark((function t(e){var r;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db;case 2:return r=t.sent,t.abrupt("return",new Promise((function(t,n){var o=r.transaction([N],"readonly");o.onerror=function(){return n(o.error)},o.onabort=function(){return n(o.error)};var i=o.objectStore(N).get(e.id);i.onerror=function(){return n(i.error)},i.onsuccess=function(){return t(i.result)}})));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"loadWorkOfArtHistory",value:(h=z(A().mark((function t(e){var r;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db;case 2:return r=t.sent,t.abrupt("return",new Promise((function(t,n){var o=r.transaction([G],"readonly");o.onerror=function(){return n(o.error)},o.onabort=function(){return n(o.error)};var i=o.objectStore(G).get(e.id);i.onerror=function(){return n(i.error)},i.onsuccess=function(){return t(i.result)}})));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"loadWorkOfArtPostProcessData",value:(f=z(A().mark((function t(e){var r;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db;case 2:return r=t.sent,t.abrupt("return",new Promise((function(t,n){var o=r.transaction([B],"readonly");o.onerror=function(){return n(o.error)},o.onabort=function(){return n(o.error)};var i=o.objectStore(B).get(e.id);i.onerror=function(){return n(i.error)},i.onsuccess=function(){return t(i.result)}})));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"getSavedWorksOfArtIds",value:(n=z(A().mark((function t(){var e;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db;case 2:return e=t.sent,t.abrupt("return",new Promise((function(t,r){var n=e.transaction([N],"readonly");n.onerror=function(){return r(n.error)},n.onabort=function(){return r(n.error)};var o=n.objectStore(N).getAllKeys();o.onerror=function(){return r(o.error)},o.onsuccess=function(){return t(o.result)}})));case 4:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],r&&R(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function U(t,e){return V.apply(this,arguments)}function V(){return(V=z(A().mark((function t(e,r){var n,o,i;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Z(e),void 0!==l.kN[n]){t.next=13;break}return o=URL.createObjectURL(r),t.prev=3,t.next=6,(0,h.po)(o);case 6:return i=t.sent,t.abrupt("return",s.xE.fromLoader(i,n));case 8:return t.prev=8,URL.revokeObjectURL(o),t.finish(8);case 11:t.next=14;break;case 13:return t.abrupt("return",l.kN[n]);case 14:case"end":return t.stop()}}),t,null,[[3,,8,11]])})))).apply(this,arguments)}function Z(t){if(t.type===y.g.ReColor)return"recolor/internal/".concat(t.id);if(t.type===y.g.Aniway)return"aniway/internal/".concat(t.id);throw new Error("Unknown drawing type.")}},6177:function(t,e,r){function n(t,e,r){return t.x=e.x+r.x,t.y=e.y+r.y,t}function o(t,e,r){return t.x=e.x-r.x,t.y=e.y-r.y,t}function i(t,e,r){return t.x=e.x*r.x,t.y=e.y*r.y,t}function a(t,e){return t.x+=e.x,t.y+=e.y,t}function u(t,e){return t.x-=e.x,t.y-=e.y,t}function c(t,e){return t.x*=e.x,t.y*=e.y,t}function s(t,e,r){return t.x=e.x*r,t.y=e.y*r,t}function l(t,e,r){return t.x=e.x/r,t.y=e.y/r,t}function f(t){return Math.hypot(t.x,t.y)}function h(t,e){return Math.hypot(t.x-e.x,t.y-e.y)}r.d(e,{C2:function(){return u},IH:function(){return n},TE:function(){return h},TZ:function(){return l},XQ:function(){return c},_m:function(){return f},bA:function(){return s},dC:function(){return i},jo:function(){return a},lu:function(){return o}}),r(5438),Math.PI},888:function(t,e,r){r.d(e,{Us:function(){return k},sN:function(){return E}}),r(8304),r(1703),r(8862),r(7658),r(5827),r(1539),r(4553),r(561),r(9826),r(7327),r(8674),r(6649),r(6078),r(2526),r(1817),r(9653),r(9070),r(489),r(2772),r(9714),r(1299),r(2419),r(6992),r(1532),r(8783),r(3948),r(7042),r(1038),r(4916),r(7601),r(2165),r(2443),r(9341),r(3706),r(2703),r(4747);var n=r(8844),o=r(1431),i=r(1686),a=r(5882),u=r(4242);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),u=new C(o||[]);return n(a,"_invoke",{value:O(t,r,u)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function y(){}function p(){}function v(){}var m={};l(m,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(E([])));b&&b!==e&&r.call(b,i)&&(m=b);var w=v.prototype=y.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function o(n,i,a,u){var s=h(t[n],t,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==c(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,u)}))}u(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function O(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=j(a,r);if(u){if(u===d)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function j(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function E(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(S.prototype),l(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),l(w,u,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=E,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function l(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){l(i,n,o,a,u,"next",t)}function u(t){l(i,n,o,a,u,"throw",t)}a(void 0)}))}}function h(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P(n.key),n)}}function p(t,e,r){return e&&y(t.prototype,e),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){var e="function"==typeof Map?new Map:void 0;return b=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return w(t,arguments,O(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),S(n,t)},b(t)}function w(t,e,r){return w=x()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&S(o,r.prototype),o},w.apply(null,arguments)}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function j(t,e,r){return(e=P(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===c(e)?e:String(e)}var k,C="monetization";!function(t){t.Nop="nop",t.VideoAd="VideoAd",t.Share="Share"}(k||(k={}));var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(o,t);var e,r,n=(e=o,r=x(),function(){var t,n=O(e);if(r){var o=O(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return m(this,t)});function o(t,e){var r;return v(this,o),j(g(r=n.call(this,"Action failed.")),"mediator",void 0),j(g(r),"cause",void 0),r.mediator=t,r.cause=e,Object.setPrototypeOf(g(r),o.prototype),r}return p(o)}(b(Error)),_=function(){function t(){var e=this;v(this,t),j(this,"carouselReady",new u.MZ),j(this,"carouselUpdated",new u.MZ),j(this,"loopFinished",new u.MZ),j(this,"availableActions",void 0),j(this,"carousel",void 0),j(this,"nextIndex",void 0),j(this,"adsLoading",void 0),j(this,"interstitialAd",void 0),j(this,"interstitialTimeout",void 0),j(this,"carouselData",{}),j(this,"config",void 0),this.availableActions=[],this.carousel=[],this.nextIndex=0,this.adsLoading=0,this.carouselReady.connect((function(){return e.checkStatus()})),(0,i._l)((function(){return e.rotateCarousel()}),6e4)}var e,r,c;return p(t,[{key:"init",value:function(t){this.config=t;try{var e=localStorage.getItem(C);this.carouselData=e?JSON.parse(e):{}}catch(t){this.carouselData={}}this.carousel.length=0,this.nextIndex=0;var r,n=h(t);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=o.count||1,a=this.carouselData[o.type];if(a&&a.cancel<=0){var u;if(!(o.reset&&a.reset&&a.reset+o.reset<=Date.now()))continue;a.cancel=null!==(u=o.cancelLimit)&&void 0!==u?u:1}for(var c=0;c<i;++c)this.carousel.push(o.type)}}catch(t){n.e(t)}finally{n.f()}try{localStorage.setItem(C,JSON.stringify(this.carouselData))}catch(t){}this.carouselReady.emit(),this.carouselUpdated.emit()}},{key:"rotateCarousel",value:function(){var t=this.carousel.shift();void 0!==t&&this.carousel.push(t),this.forceUpdate()}},{key:"forceUpdate",value:function(){this.nextIndex=0,this.carouselUpdated.emit()}},{key:"checkStatus",value:function(){var t=this;if(void 0===this.config)throw new Error("No configuration. Call init first.");var e,r=h(this.config);try{var n=function(){var r,n=e.value,o=t.availableActions.reduce((function(t,e){return t+(e.type===n.type?1:0)}),0),i=null!==(r=n.preload)&&void 0!==r?r:1;n.type===k.VideoAd?(o+=t.adsLoading)<i&&t.getRewardedVideo():n.type===k.Share?o<i&&t.availableActions.push({type:k.Share,share:function(){var t,e;if(a.Z.defaultNetwork)return a.Z.share(a.Z.defaultNetwork,null!==(t=n.quote)&&void 0!==t?t:"Aniway",null!==(e=n.url)&&void 0!==e?e:"http://www.aniway.fi");throw new Error("No default network.")}}):n.type===k.Nop&&o<i&&t.availableActions.push({type:k.Nop})};for(r.s();!(e=r.n()).done;)n()}catch(t){r.e(t)}finally{r.f()}}},{key:"getRewardedAction",value:function(){var t=this.nextIndex++%this.carousel.length;return this.carousel[t]}},{key:"consumeRewardedAction",value:(c=f(s().mark((function t(e,r){var n,o,i,a,u,c,l,f;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.config){t.next=2;break}throw new Error("No configuration. Call init first.");case 2:if(n=this.availableActions.findIndex((function(t){return t.type===e})),o=this.availableActions[n],-1===n){t.next=8;break}this.availableActions.splice(n,1),t.next=9;break;case 8:throw new Error("No action found for type '".concat(e,"'."));case 9:if(this.checkStatus(),i={mediator:"dummy"},t.prev=11,o.type!==k.Share){t.next=18;break}return i.mediator="navigator",t.next=16,o.share();case 16:t.next=22;break;case 18:if(o.type!==k.VideoAd){t.next=22;break}return i.mediator=o.ad.mediator,t.next=22,o.ad.show(null==r?void 0:r[o.ad.mediator]);case 22:return t.abrupt("return",i);case 25:if(t.prev=25,t.t0=t.catch(11),!(a=this.config.find((function(t){return t.type===o.type})))||!a.cancelLimit){t.next=39;break}--(f=null!==(l=(u=this.carouselData)[c=o.type])&&void 0!==l?l:u[c]={cancel:a.cancelLimit}).cancel<=0&&(this.carousel=this.carousel.filter((function(t){return t!==o.type})),this.forceUpdate()),a.reset&&(f.reset=Date.now()),t.prev=32,localStorage.setItem(C,JSON.stringify(this.carouselData)),t.next=39;break;case 36:throw t.prev=36,t.t1=t.catch(32),new E(i.mediator,t.t1);case 39:throw new E(i.mediator,t.t0);case 40:case"end":return t.stop()}}),t,this,[[11,25],[32,36]])}))),function(t,e){return c.apply(this,arguments)})},{key:"hasInterstitialAdLoaded",value:function(){return void 0===this.interstitialAd&&this.getInterstitialAd(),void 0!==this.interstitialAd}},{key:"consumeInterstitialAd",value:(r=f(s().mark((function t(){var e,r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getInterstitialAd();case 2:return e=t.sent,r=e.mediator,n=e.show,t.prev=5,t.next=8,n();case 8:return t.abrupt("return",{successful:!0,mediator:r});case 11:return t.prev=11,t.t0=t.catch(5),t.abrupt("return",{successful:!1,mediator:r});case 15:return t.prev=15,delete this.interstitialAd,t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[5,11,15,18]])}))),function(){return r.apply(this,arguments)})},{key:"getRewardedVideo",value:function(){var t=this;++this.adsLoading,n.Z.getRewardedAd().then((function(e){--t.adsLoading,t.availableActions.push({type:k.VideoAd,ad:e}),t.carouselReady.emit()})).catch((function(e){--t.adsLoading,t.checkStatus()}))}},{key:"getInterstitialAd",value:(e=f(s().mark((function t(){var e,r,i,a=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===this.interstitialAd){t.next=2;break}return t.abrupt("return",this.interstitialAd);case 2:if(void 0===this.interstitialTimeout){t.next=4;break}return t.abrupt("return",this.interstitialTimeout);case 4:return t.prev=4,t.next=7,n.Z.getInterstitialAd();case 7:return this.interstitialAd=t.sent,t.abrupt("return",this.interstitialAd);case 11:if(t.prev=11,t.t0=t.catch(4),!(t.t0 instanceof o._)){t.next=32;break}if((e=t.t0.code)!==o.j.TooFrequent){t.next=20;break}return null!==(r=this.interstitialTimeout)&&void 0!==r||(this.interstitialTimeout=new Promise((function(t){window.setTimeout((function(){delete a.interstitialTimeout,t(a.getInterstitialAd())}),5e3)}))),t.abrupt("return",this.interstitialTimeout);case 20:if(e!==o.j.NoFill){t.next=25;break}return null!==(i=this.interstitialTimeout)&&void 0!==i||(this.interstitialTimeout=new Promise((function(t){window.setTimeout((function(){delete a.interstitialTimeout,t(a.getInterstitialAd())}),500)}))),t.abrupt("return",this.interstitialTimeout);case 25:if(e!==o.j.Unknown){t.next=29;break}throw t.t0.cause;case 29:throw new Error("Unknown interstitial error code '".concat(e,"'."));case 30:t.next=33;break;case 32:throw t.t0;case 33:case"end":return t.stop()}}),t,this,[[4,11]])}))),function(){return e.apply(this,arguments)})}]),t}();e.ZP=new _},7450:function(t,e,r){var n;function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function u(t,e,r){return(e=c(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===o(e)?e:String(e)}r.d(e,{I:function(){return s},J:function(){return n}}),r(6649),r(6078),r(2526),r(1817),r(1539),r(1703),r(9653),r(9070),r(2165),r(6992),r(8783),r(3948),function(t){t[t.Unconstrained=0]="Unconstrained",t[t.MinSize=1]="MinSize",t[t.PreferredSize=2]="PreferredSize"}(n||(n={}));var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.Unconstrained,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.Unconstrained,o=arguments.length>2?arguments[2]:void 0;i(this,t),u(this,"horizontalFit",void 0),u(this,"verticalFit",void 0),u(this,"layoutElement",void 0),u(this,"lastLayoutElement",void 0),this.horizontalFit=e,this.verticalFit=r,this.layoutElement=o}var e,r;return e=t,(r=[{key:"isDirty",value:function(){var t,e,r,o,i=this.layoutElement,a=i.minWidth,u=i.preferredWidth,c=i.minHeight,s=i.preferredHeight;return!!(this.horizontalFit===n.MinSize&&(null===(t=this.lastLayoutElement)||void 0===t?void 0:t.minWidth)!==a||this.horizontalFit===n.PreferredSize&&(null===(e=this.lastLayoutElement)||void 0===e?void 0:e.preferredWidth)!==u||this.verticalFit===n.MinSize&&(null===(r=this.lastLayoutElement)||void 0===r?void 0:r.minHeight)!==c||this.verticalFit===n.PreferredSize&&(null===(o=this.lastLayoutElement)||void 0===o?void 0:o.preferredHeight)!==s)&&(this.lastLayoutElement={minWidth:a,preferredWidth:u,minHeight:c,preferredHeight:s},!0)}},{key:"setLayout",value:function(t){var e=t.sizeDelta;this.horizontalFit===n.MinSize?e.x=this.layoutElement.minWidth:this.horizontalFit===n.PreferredSize&&(e.x=Math.max(this.layoutElement.preferredWidth,this.layoutElement.minWidth)),this.verticalFit===n.MinSize?e.y=this.layoutElement.minHeight:this.verticalFit===n.PreferredSize&&(e.y=Math.max(this.layoutElement.preferredHeight,this.layoutElement.minHeight)),t.sizeDelta=e}}])&&a(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},618:function(t,e,r){r.d(e,{Gz:function(){return O},Uq:function(){return n},u1:function(){return b},w1:function(){return x}}),r(6992),r(1539),r(189),r(8783),r(3948),r(1532),r(1038),r(3299),r(9653),r(1703),r(6649),r(6078),r(2526),r(1817),r(9070),r(7042),r(4916),r(7601),r(2165),r(7658),r(7941),r(7327),r(5003),r(4747),r(9337),r(3321);var n,o=r(8741),i=r.n(o),a=r(4063),u=r.n(a),c=r(6177);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=d(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function d(t,e){if(t){if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function m(t,e,r){return(e=g(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===s(e)?e:String(e)}!function(t){t[t.TopLeft=0]="TopLeft",t[t.TopRight=1]="TopRight",t[t.TopCenter=2]="TopCenter",t[t.BottomLeft=3]="BottomLeft",t[t.BottomRight=4]="BottomRight",t[t.BottomCenter=5]="BottomCenter",t[t.LeftCenter=6]="LeftCenter",t[t.RightCenter=7]="RightCenter",t[t.Center=8]="Center",t[t.LeftEdge=9]="LeftEdge",t[t.TopEdge=10]="TopEdge",t[t.RightEdge=11]="RightEdge",t[t.BottomEdge=12]="BottomEdge",t[t.HorizontalFill=13]="HorizontalFill",t[t.VerticalFill=14]="VerticalFill",t[t.Fill=15]="Fill",t[t.LeftTop=0]="LeftTop",t[t.LeftBottom=3]="LeftBottom",t[t.RightTop=1]="RightTop",t[t.RightBottom=4]="RightBottom"}(n||(n={}));var b=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;p(this,t),m(this,"displayObject",void 0),m(this,"childTarget",void 0),m(this,"dirtyCheck",void 0),m(this,"_children",new Set),m(this,"_parent",void 0),m(this,"_layoutDirty",!0),m(this,"anchor",{min:{x:0,y:0},max:{x:0,y:0}}),m(this,"offset",{min:{x:0,y:0},max:{x:0,y:0}}),m(this,"pivot",{x:0,y:0}),m(this,"scale",{x:1,y:1}),m(this,"_size",{x:0,y:0}),m(this,"layoutController",void 0),m(this,"_destroyed",!1),this.displayObject=e,this.childTarget=r,r!==e&&this.displayObject.addChild(r),this.dirtyCheck=new Map([["anchor",i()(this.anchor)],["offset",i()(this.offset)],["pivot",i()(this.pivot)],["scale",i()(this.scale)]])}var e,r;return e=t,r=[{key:"setLayoutDirty",value:function(){this._layoutDirty=!0}},{key:"layoutDirty",get:function(){return this._layoutDirty}},{key:"destroyed",get:function(){return this._destroyed}},{key:"setParent",value:function(t){void 0!==t&&t.childTarget.addChild(this.displayObject),void 0!==this._parent&&this._parent.childTarget.removeChild(this.displayObject),this._parent=t,this.measure(),this._layoutDirty=!0}},{key:"parent",get:function(){return this._parent}},{key:"addChild",value:function(t){return t._parent===this||(void 0!==t._parent&&t._parent._children.delete(t),this._children.add(t),t.setParent(this),this.setLayoutDirty()),t}},{key:"removeChild",value:function(t){var e=this._children.delete(t);return e&&t.parent===this&&t.setParent(void 0),e}},{key:"removeAllChildren",value:function(){var t,e=h(this._children);try{for(e.s();!(t=e.n()).done;){var r=t.value;r.parent===this&&r.setParent(void 0)}}catch(t){e.e(t)}finally{e.f()}var n=Array.from(this._children.values());return this._children.clear(),n}},{key:"children",value:function(){return this._children.values()}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._destroyed=!0,this._parent&&this._parent.removeChild(this),t){var e,r=h(this._children);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.destroy(t)}}catch(t){r.e(t)}finally{r.f()}}this.childTarget!==this.displayObject&&this.childTarget.destroy({children:t}),this.displayObject.destroy({children:t})}},{key:"checkDirty",value:function(){var t,e,r,n=h(this.dirtyCheck);try{for(n.s();!(t=n.n()).done;){var o=(e=t.value,r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){s=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,r)||d(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],c=o[1],s=this[a];u()(s,c)||(this.dirtyCheck.set(a,i()(s)),this._layoutDirty=!0)}}catch(t){n.e(t)}finally{n.f()}this._layoutDirty||void 0===this.layoutController||(this._layoutDirty=this.layoutController.isDirty())}},{key:"updateLayout",value:function(){var t,e=h(this._children);try{for(e.s();!(t=e.n()).done;){var r=t.value;if(r.checkDirty(),this._layoutDirty||r._layoutDirty){r.measure(),r.displayObject.position.set(r.anchor.min.x*this._size.x+r.offset.min.x,r.anchor.min.y*this._size.y+r.offset.min.y);var n=(0,c.dC)({x:0,y:0},r.size,r.pivot),o=n.x,i=n.y,a=Math.sin(r.rotation),u=Math.cos(r.rotation);r.displayObject.position.x+=o-(u*o*r.scale.x-a*i*r.scale.y),r.displayObject.position.y+=i-(a*o*r.scale.x+u*i*r.scale.y),r.displayObject.scale.copyFrom(r.scale),r._layoutDirty=!0}r.updateLayout()}}catch(t){e.e(t)}finally{e.f()}this._layoutDirty=!1}},{key:"getAnchorPosition",value:function(t){var e,r,n=null!==(e=null===(r=this.parent)||void 0===r?void 0:r.size)&&void 0!==e?e:{x:0,y:0},o={min:(0,c.jo)((0,c.dC)({x:0,y:0},this.anchor.min,n),this.offset.min),max:(0,c.jo)((0,c.dC)({x:0,y:0},this.anchor.max,n),this.offset.max)},i=S(t);return(0,c.jo)((0,c.XQ)((0,c.C2)(o.max,o.min),i),o.min)}},{key:"anchoredPosition",get:function(){var t,e,r=null!==(t=null===(e=this.parent)||void 0===e?void 0:e.size)&&void 0!==t?t:{x:0,y:0},n={min:(0,c.jo)((0,c.dC)({x:0,y:0},this.anchor.min,r),this.offset.min),max:(0,c.jo)((0,c.dC)({x:0,y:0},this.anchor.max,r),this.offset.max)};return(0,c.jo)((0,c.XQ)((0,c.C2)(n.max,n.min),this.pivot),n.min)},set:function(t){var e=(0,c.lu)({x:0,y:0},t,this.anchoredPosition);this.moveOffset(e)}},{key:"anchorTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sizeDelta,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.anchor=x(t),n&&(this.pivot=S(t)),this.offset=w(t,r,e)}},{key:"setPivotToAnchor",value:function(){var t=this.sizeDelta;this.pivot={x:-this.offset.min.x/t.x,y:-this.offset.min.y/t.y}}},{key:"centerAroundAnchor",value:function(){var t=this.sizeDelta.x/2,e=this.sizeDelta.y/2;this.offset={min:{x:-t,y:-e},max:{x:t,y:e}}}},{key:"moveOffset",value:function(t){(0,c.jo)(this.offset.min,t),(0,c.jo)(this.offset.max,t)}},{key:"setAbsolutePosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.sizeDelta;this.offset.min=f({},t),(0,c.IH)(this.offset.max,t,e)}},{key:"setAbsoluteSize",value:function(t){(0,c.IH)(this.offset.max,this.offset.min,t)}},{key:"measure",value:function(){var t,e,r;null===(t=this.layoutController)||void 0===t||t.setLayout(this),(0,c.lu)(this._size,this.offset.max,this.offset.min);var n=null!==(e=null===(r=this.parent)||void 0===r?void 0:r.size)&&void 0!==e?e:{x:0,y:0},o=Math.abs(this.anchor.max.x-this.anchor.min.x);o>Number.EPSILON&&(this._size.x+=o*n.x);var i=Math.abs(this.anchor.max.y-this.anchor.min.y);i>Number.EPSILON&&(this._size.y+=i*n.y)}},{key:"rotation",get:function(){return this.displayObject.rotation},set:function(t){this.displayObject.rotation=t}},{key:"visible",get:function(){return this.displayObject.visible},set:function(t){this.displayObject.visible=t}},{key:"sizeDelta",get:function(){return(0,c.lu)({x:0,y:0},this.offset.max,this.offset.min)},set:function(t){var e=this.pivot,r=e.x,n=e.y,o=(0,c.lu)({x:0,y:0},this.offset.max,this.offset.min);(0,c.lu)(o,o,t),this.offset.min.x+=o.x*r,this.offset.min.y+=o.y*n,this.offset.max.x-=o.x*(1-r),this.offset.max.y-=o.y*(1-n)}},{key:"size",get:function(){return this._size}},{key:"hitArea",get:function(){return this.displayObject.hitArea},set:function(t){this.displayObject.hitArea=t}}],r&&v(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function w(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0},o=r.x,i=r.y,a=e.x,u=e.y;if(t===n.TopLeft)return{min:{x:o,y:i},max:{x:o+a,y:i+u}};if(t===n.TopRight)return{min:{x:-o-a,y:i},max:{x:-o,y:i+u}};if(t===n.TopCenter)return{min:{x:o-a/2,y:i},max:{x:o+a/2,y:i+u}};if(t===n.BottomLeft)return{min:{x:o,y:-i-u},max:{x:o+a,y:-i}};if(t===n.BottomRight)return{min:{x:-o-a,y:-i-u},max:{x:-o,y:-i}};if(t===n.BottomCenter)return{min:{x:o-a/2,y:-i-u},max:{x:o+a/2,y:-i}};if(t===n.LeftCenter)return{min:{x:o,y:i-u/2},max:{x:o+a,y:i+u/2}};if(t===n.RightCenter)return{min:{x:-a-o,y:i-u/2},max:{x:-o,y:i+u/2}};if(t===n.Center)return{min:{x:o-a/2,y:i-u/2},max:{x:o+a/2,y:i+u/2}};if(t===n.LeftEdge)return{min:{x:o,y:i/2},max:{x:o+a,y:-i/2}};if(t===n.TopEdge)return{min:{x:o/2,y:i},max:{x:-o/2,y:i+u}};if(t===n.RightEdge)return{min:{x:-o-a,y:i/2},max:{x:-o,y:-i/2}};if(t===n.BottomEdge)return{min:{x:o/2,y:-i-u},max:{x:-o/2,y:-i}};if(t===n.HorizontalFill)return{min:{x:o/2,y:i-u/2},max:{x:-o/2,y:i+u/2}};if(t===n.VerticalFill)return{min:{x:o-a/2,y:i/2},max:{x:o+a/2,y:-i/2}};if(t===n.Fill)return{min:{x:o/2,y:i/2},max:{x:-o/2,y:-i/2}};throw new Error("Unknown anchor preset")}function x(t){if(t===n.TopLeft)return{min:{x:0,y:0},max:{x:0,y:0}};if(t===n.TopRight)return{min:{x:1,y:0},max:{x:1,y:0}};if(t===n.TopCenter)return{min:{x:.5,y:0},max:{x:.5,y:0}};if(t===n.BottomLeft)return{min:{x:0,y:1},max:{x:0,y:1}};if(t===n.BottomRight)return{min:{x:1,y:1},max:{x:1,y:1}};if(t===n.BottomCenter)return{min:{x:.5,y:1},max:{x:.5,y:1}};if(t===n.LeftCenter)return{min:{x:0,y:.5},max:{x:0,y:.5}};if(t===n.RightCenter)return{min:{x:1,y:.5},max:{x:1,y:.5}};if(t===n.Center)return{min:{x:.5,y:.5},max:{x:.5,y:.5}};if(t===n.LeftEdge)return{min:{x:0,y:0},max:{x:0,y:1}};if(t===n.TopEdge)return{min:{x:0,y:0},max:{x:1,y:0}};if(t===n.RightEdge)return{min:{x:1,y:0},max:{x:1,y:1}};if(t===n.BottomEdge)return{min:{x:0,y:1},max:{x:1,y:1}};if(t===n.HorizontalFill)return{min:{x:0,y:.5},max:{x:1,y:.5}};if(t===n.VerticalFill)return{min:{x:.5,y:0},max:{x:.5,y:1}};if(t===n.Fill)return{min:{x:0,y:0},max:{x:1,y:1}};throw new Error("Unknown anchor preset")}function S(t){if(t===n.TopLeft)return{x:0,y:0};if(t===n.TopRight)return{x:1,y:0};if(t===n.TopCenter)return{x:.5,y:0};if(t===n.BottomLeft)return{x:0,y:1};if(t===n.BottomRight)return{x:1,y:1};if(t===n.BottomCenter)return{x:.5,y:1};if(t===n.LeftCenter)return{x:0,y:.5};if(t===n.RightCenter)return{x:1,y:.5};if(t===n.Center)return{x:.5,y:.5};if(t===n.LeftEdge)return{x:0,y:.5};if(t===n.TopEdge)return{x:.5,y:0};if(t===n.RightEdge)return{x:1,y:.5};if(t===n.BottomEdge)return{x:.5,y:1};if(t===n.HorizontalFill)return{x:.5,y:.5};if(t===n.VerticalFill)return{x:.5,y:.5};if(t===n.Fill)return{x:.5,y:.5};throw new Error("Unknown anchor preset")}function O(t,e,r,n){return{min:{x:t,y:null!=e?e:t},max:{x:-(null!=r?r:t),y:-(null!=n?n:t)}}}},6020:function(t,e,r){r.d(e,{I:function(){return S}}),r(6992),r(1539),r(8783),r(4129),r(3948),r(1703),r(6649),r(6078),r(2526),r(1817),r(9653),r(9070),r(8304),r(489),r(1299),r(2419),r(4819),r(5003),r(2165);var n=r(8033),o=r(1585),i=r(618);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=s(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},c.apply(this,arguments)}function s(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function p(t,e,r){return(e=v(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===a(e)?e:String(e)}function m(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,b(t,e,"set"),r),r}function g(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,b(t,e,"get"))}function b(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var w=new WeakMap,x=new WeakMap,S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(v,t);var e,r,i,a,s=(i=v,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(i);if(a){var r=d(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return f(this,t)});function v(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),p(h(e=s.call(this,new o.W2)),"sprite",void 0),p(h(e),"minWidth",0),p(h(e),"minHeight",0),y(h(e),w,{writable:!0,value:void 0}),y(h(e),x,{writable:!0,value:void 0}),e.sprite=e.displayObject.addChild(new n.j(t)),e.offset={min:{x:0,y:0},max:{x:t.width,y:t.height}},e}return e=v,r=[{key:"tint",get:function(){return this.sprite.tint},set:function(t){this.sprite.tint=t}},{key:"alpha",get:function(){return this.displayObject.alpha},set:function(t){this.displayObject.alpha=t}},{key:"mask",get:function(){return this.displayObject.mask},set:function(t){this.displayObject.mask=t}},{key:"blendMode",get:function(){return this.sprite.blendMode},set:function(t){this.sprite.blendMode=t}},{key:"setTexture",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.sprite.texture=t,e&&(this.offset={min:{x:0,y:0},max:{x:t.width,y:t.height}})}},{key:"texture",get:function(){return this.sprite.texture},set:function(t){this.sprite.texture=t}},{key:"spriteAnchor",get:function(){return this.sprite.anchor},set:function(t){this.sprite.anchor=t}},{key:"updateLayout",value:function(){this.layoutDirty&&(this.sprite.scale.set(1),this.sprite.width=this.size.x,this.sprite.height=this.size.y),c(d(v.prototype),"updateLayout",this).call(this)}},{key:"preferredWidth",get:function(){var t;return null!==(t=g(this,w))&&void 0!==t?t:this.sprite.texture.width},set:function(t){m(this,w,t)}},{key:"preferredHeight",get:function(){var t;return null!==(t=g(this,x))&&void 0!==t?t:this.sprite.texture.height},set:function(t){m(this,x,t)}}],r&&u(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),v}(i.u1)},5650:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function a(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function s(t,e,r){return(e=l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t){var e=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e);if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===n(e)?e:String(e)}r.d(e,{A:function(){return f}}),r(6649),r(6078),r(2526),r(1817),r(1539),r(1703),r(9653),r(9070),r(8304),r(489),r(1299),r(2419),r(2165),r(6992),r(8783),r(3948);var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(h,t);var e,r,n,l,f=(n=h,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(n);if(l){var r=c(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return a(this,t)});function h(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),s(u(e=f.call(this,t)),"root",void 0),s(u(e),"minWidth",0),s(u(e),"minHeight",0),e.root=t,t.updateTransform=function(){e.checkDirty(),e.layoutDirty&&(e.measure(),e.displayObject.position.set(e.anchor.min.x*e.size.x+e.offset.min.x,e.anchor.min.y*e.size.y+e.offset.min.y)),e.updateLayout(),t.containerUpdateTransform()},e}return e=h,(r=[{key:"preferredWidth",get:function(){return this.root.width}},{key:"preferredHeight",get:function(){return this.root.height}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(r(618).u1)},7493:function(t,e,r){r.d(e,{H:function(){return n},sm:function(){return b}}),r(6649),r(6078),r(2526),r(1817),r(1539),r(1703),r(9653),r(9070),r(8304),r(489),r(1299),r(2419),r(4819),r(5003),r(2165),r(6992),r(8783),r(3948);var n,o=r(1601),i=r(8741),a=r.n(i),u=r(618);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,g(n.key),n)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=h(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},f.apply(this,arguments)}function h(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function y(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function m(t,e,r){return(e=g(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"===c(e)?e:String(e)}!function(t){t[t.TopLeft=0]="TopLeft",t[t.TopCenter=1]="TopCenter",t[t.TopRight=2]="TopRight",t[t.TopJustify=3]="TopJustify",t[t.MiddleLeft=4]="MiddleLeft",t[t.MiddleCenter=5]="MiddleCenter",t[t.MiddleRight=6]="MiddleRight",t[t.MiddleJustify=7]="MiddleJustify",t[t.BottomLeft=8]="BottomLeft",t[t.BottomCenter=9]="BottomCenter",t[t.BottomRight=10]="BottomRight",t[t.BottomJustify=11]="BottomJustify"}(n||(n={}));var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(h,t);var e,r,i,u,c=(i=h,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(i);if(u){var r=v(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return y(this,t)});function h(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.TopLeft,i=arguments.length>2?arguments[2]:void 0;return s(this,h),m(p(e=c.call(this,new o.xv(t,i))),"alignment",void 0),m(p(e),"cachedTextMetrics",void 0),m(p(e),"minWidth",0),m(p(e),"minHeight",0),e.alignment=r,e.offset={min:{x:0,y:0},max:{x:e.displayObject.width,y:e.displayObject.height}},e.cachedTextMetrics=e.getMetrics(),e.dirtyCheck.set("text",a()(e.text)),e.dirtyCheck.set("alignment",a()(e.alignment)),e.dirtyCheck.set("localStyleID",a()(e.localStyleID)),e}return e=h,r=[{key:"tint",get:function(){return this.displayObject.tint},set:function(t){this.displayObject.tint=t}},{key:"alpha",get:function(){return this.displayObject.alpha},set:function(t){this.displayObject.alpha=t}},{key:"text",get:function(){return this.displayObject.text},set:function(t){this.displayObject.text=t}},{key:"localStyleID",get:function(){return this.displayObject.localStyleID}},{key:"style",get:function(){return this.displayObject.style},set:function(t){this.displayObject.style=t}},{key:"getMetrics",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(t=this.style)||void 0===t?void 0:t.wordWrap;return o._A.measureText(this.text,this.displayObject.style,null!=e&&e)}},{key:"updateLayout",value:function(){if(this.layoutDirty){this.displayObject.style.align=(r="left",(e=this.alignment)===n.TopCenter||e===n.MiddleCenter||e===n.BottomCenter?r="center":e===n.TopRight||e===n.MiddleRight||e===n.BottomRight?r="right":e!==n.TopJustify&&e!==n.MiddleJustify&&e!==n.BottomJustify||(r="justify"),r);var t=this.displayObject.position;this.alignment===n.TopCenter||this.alignment===n.MiddleCenter||this.alignment===n.BottomCenter?t.x+=(this.size.x-this.displayObject.width)/2:this.alignment!==n.TopRight&&this.alignment!==n.MiddleRight&&this.alignment!==n.BottomRight||(t.x+=this.size.x-this.displayObject.width),this.alignment===n.MiddleLeft||this.alignment===n.MiddleCenter||this.alignment===n.MiddleRight?t.y+=(this.size.y-this.displayObject.height)/2:this.alignment!==n.BottomLeft&&this.alignment!==n.BottomCenter&&this.alignment!==n.BottomRight||(t.y+=this.size.y-this.displayObject.height),this.displayObject.style.wordWrapWidth=this.size.x}var e,r;f(v(h.prototype),"updateLayout",this).call(this)}},{key:"measure",value:function(){this.cachedTextMetrics=this.getMetrics(),f(v(h.prototype),"measure",this).call(this)}},{key:"preferredWidth",get:function(){return this.cachedTextMetrics.width}},{key:"preferredHeight",get:function(){return this.cachedTextMetrics.height}}],r&&l(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),h}(u.u1)}}]);