!function (_0x5c0d3c, _0x3d6766, _0xafdb2b) {
    _0xafdb2b['un'], _0xafdb2b['uns'];
    var _0x2a9406 = _0xafdb2b['static'], _0xaf61b8 = _0xafdb2b['class'], _0x7f72e3 = _0xafdb2b['getset'], _0x2f586c = (_0xafdb2b['__newvec'], laya['webgl']['canvas']['BlendMode']), _0x104945 = (laya['events']['Event'], laya['resource']['HTMLCanvas']), _0x318061 = laya['utils']['Handler'], _0x2e2990 = laya['webgl']['utils']['IndexBuffe' + 'r2D'], _0x4a5743 = (laya['net']['Loader'], laya['maths']['MathUtil']), _0x792476 = laya['maths']['Matrix'], _0x1d3925 = laya['renders']['Render'], _0x2dbc08 = (laya['renders']['RenderCont' + 'ext'], laya['renders']['RenderSpri' + 'te'], laya['webgl']['shader']['Shader']), _0x32ecbd = laya['display']['Sprite'], _0x1f51d0 = laya['utils']['Stat'], _0x579bf1 = laya['resource']['Texture'], _0x5666ac = laya['utils']['Utils'], _0x3f976a = laya['webgl']['shader']['d2']['value']['Value2D'], _0x193d38 = laya['webgl']['utils']['VertexBuff' + 'er2D'], _0x2b2e4e = laya['webgl']['WebGL'], _0x40a11b = (laya['webgl']['WebGLConte' + 'xt'], function () {
            function _0x4bd123() {
                this['_frameTime'] = 0x0, this['_emissionR' + 'ate'] = 0x3c, this['_emissionT' + 'ime'] = 0x0, this['minEmissio' + 'nTime'] = 0x1 / 0x3c, this['_particleT' + 'emplate'] = null;
            }
            _0xaf61b8(_0x4bd123, 'laya.parti' + 'cle.emitte' + 'r.EmitterB' + 'ase');
            var _0x2dddc7 = _0x4bd123['prototype'];
            return _0x2dddc7['start'] = function (_0x9f8b) {
                void 0x0 === _0x9f8b && (_0x9f8b = 0x7fffffff), 0x0 != this['_emissionR' + 'ate'] && (this['_emissionT' + 'ime'] = _0x9f8b);
            }, _0x2dddc7['stop'] = function () {
                this['_emissionT' + 'ime'] = 0x0;
            }, _0x2dddc7['clear'] = function () {
                this['_emissionT' + 'ime'] = 0x0;
            }, _0x2dddc7['emit'] = function () {
            }, _0x2dddc7['advanceTim' + 'e'] = function (_0x36c442) {
                if (void 0x0 === _0x36c442 && (_0x36c442 = 0x1), this['_emissionT' + 'ime'] -= _0x36c442, !(this['_emissionT' + 'ime'] < 0x0 || (this['_frameTime'] += _0x36c442, this['_frameTime'] < this['minEmissio' + 'nTime']))) {
                    for (; this['_frameTime'] > this['minEmissio' + 'nTime'];)
                        this['_frameTime'] -= this['minEmissio' + 'nTime'], this['emit']();
                }
            }, _0x7f72e3(0x0, _0x2dddc7, 'particleTe' + 'mplate', null, function (_0x18cb52) {
                this['_particleT' + 'emplate'] = _0x18cb52;
            }), _0x7f72e3(0x0, _0x2dddc7, 'emissionRa' + 'te', function () {
                return this['_emissionR' + 'ate'];
            }, function (_0x4ddab7) {
                _0x4ddab7 <= 0x0 || (this['_emissionR' + 'ate'] = _0x4ddab7, _0x4ddab7 > 0x0 && (this['minEmissio' + 'nTime'] = 0x1 / _0x4ddab7));
            }), _0x4bd123;
        }()), _0x35080a = function () {
            function _0x29b897() {
                this['position'] = null, this['velocity'] = null, this['startColor'] = null, this['endColor'] = null, this['sizeRotati' + 'on'] = null, this['radius'] = null, this['radian'] = null, this['durationAd' + 'dScale'] = NaN, this['time'] = NaN;
            }
            return _0xaf61b8(_0x29b897, 'laya.parti' + 'cle.Partic' + 'leData'), _0x29b897['Create'] = function (_0x42bb0f, _0x1adc98, _0x1dd83f, _0x27b682) {
                var _0xc6c5e2 = new _0x29b897();
                _0xc6c5e2['position'] = _0x1adc98, _0x4a5743['scaleVecto' + 'r3'](_0x1dd83f, _0x42bb0f['emitterVel' + 'ocitySensi' + 'tivity'], _0x29b897['_tempVeloc' + 'ity']);
                var _0x46c781 = _0x4a5743['lerp'](_0x42bb0f['minHorizon' + 'talVelocit' + 'y'], _0x42bb0f['maxHorizon' + 'talVelocit' + 'y'], Math['random']()), _0x200b03 = Math['random']() * Math['PI'] * 0x2;
                _0x29b897['_tempVeloc' + 'ity'][0x0] += _0x46c781 * Math['cos'](_0x200b03), _0x29b897['_tempVeloc' + 'ity'][0x2] += _0x46c781 * Math['sin'](_0x200b03), _0x29b897['_tempVeloc' + 'ity'][0x1] += _0x4a5743['lerp'](_0x42bb0f['minVertica' + 'lVelocity'], _0x42bb0f['maxVertica' + 'lVelocity'], Math['random']()), _0xc6c5e2['velocity'] = _0x29b897['_tempVeloc' + 'ity'], _0xc6c5e2['startColor'] = _0x29b897['_tempStart' + 'Color'], _0xc6c5e2['endColor'] = _0x29b897['_tempEndCo' + 'lor'];
                var _0x47df97 = 0x0;
                if (_0x42bb0f['disableCol' + 'or']) {
                    for (_0x47df97 = 0x0; _0x47df97 < 0x4; _0x47df97++)
                        _0xc6c5e2['startColor'][_0x47df97] = 0x1, _0xc6c5e2['endColor'][_0x47df97] = 0x1;
                } else {
                    if (_0x42bb0f['colorCompo' + 'nentInter']) {
                        for (_0x47df97 = 0x0; _0x47df97 < 0x4; _0x47df97++)
                            _0xc6c5e2['startColor'][_0x47df97] = _0x4a5743['lerp'](_0x42bb0f['minStartCo' + 'lor'][_0x47df97], _0x42bb0f['maxStartCo' + 'lor'][_0x47df97], Math['random']()), _0xc6c5e2['endColor'][_0x47df97] = _0x4a5743['lerp'](_0x42bb0f['minEndColo' + 'r'][_0x47df97], _0x42bb0f['maxEndColo' + 'r'][_0x47df97], Math['random']());
                    } else
                        _0x4a5743['lerpVector' + '4'](_0x42bb0f['minStartCo' + 'lor'], _0x42bb0f['maxStartCo' + 'lor'], Math['random'](), _0xc6c5e2['startColor']), _0x4a5743['lerpVector' + '4'](_0x42bb0f['minEndColo' + 'r'], _0x42bb0f['maxEndColo' + 'r'], Math['random'](), _0xc6c5e2['endColor']);
                }
                _0xc6c5e2['sizeRotati' + 'on'] = _0x29b897['_tempSizeR' + 'otation'];
                var _0x5189b2 = Math['random']();
                _0xc6c5e2['sizeRotati' + 'on'][0x0] = _0x4a5743['lerp'](_0x42bb0f['minStartSi' + 'ze'], _0x42bb0f['maxStartSi' + 'ze'], _0x5189b2), _0xc6c5e2['sizeRotati' + 'on'][0x1] = _0x4a5743['lerp'](_0x42bb0f['minEndSize'], _0x42bb0f['maxEndSize'], _0x5189b2), _0xc6c5e2['sizeRotati' + 'on'][0x2] = _0x4a5743['lerp'](_0x42bb0f['minRotateS' + 'peed'], _0x42bb0f['maxRotateS' + 'peed'], Math['random']()), _0xc6c5e2['radius'] = _0x29b897['_tempRadiu' + 's'];
                var _0x21385e = Math['random']();
                _0xc6c5e2['radius'][0x0] = _0x4a5743['lerp'](_0x42bb0f['minStartRa' + 'dius'], _0x42bb0f['maxStartRa' + 'dius'], _0x21385e), _0xc6c5e2['radius'][0x1] = _0x4a5743['lerp'](_0x42bb0f['minEndRadi' + 'us'], _0x42bb0f['maxEndRadi' + 'us'], _0x21385e), _0xc6c5e2['radian'] = _0x29b897['_tempRadia' + 'n'], _0xc6c5e2['radian'][0x0] = _0x4a5743['lerp'](_0x42bb0f['minHorizon' + 'talStartRa' + 'dian'], _0x42bb0f['maxHorizon' + 'talStartRa' + 'dian'], Math['random']()), _0xc6c5e2['radian'][0x1] = _0x4a5743['lerp'](_0x42bb0f['minVertica' + 'lStartRadi' + 'an'], _0x42bb0f['maxVertica' + 'lStartRadi' + 'an'], Math['random']());
                var _0x990f0 = _0x42bb0f['useEndRadi' + 'an'];
                return _0xc6c5e2['radian'][0x2] = _0x990f0 ? _0x4a5743['lerp'](_0x42bb0f['minHorizon' + 'talEndRadi' + 'an'], _0x42bb0f['maxHorizon' + 'talEndRadi' + 'an'], Math['random']()) : _0xc6c5e2['radian'][0x0], _0xc6c5e2['radian'][0x3] = _0x990f0 ? _0x4a5743['lerp'](_0x42bb0f['minVertica' + 'lEndRadian'], _0x42bb0f['maxVertica' + 'lEndRadian'], Math['random']()) : _0xc6c5e2['radian'][0x1], _0xc6c5e2['durationAd' + 'dScale'] = _0x42bb0f['ageAddScal' + 'e'] * Math['random'](), _0xc6c5e2['time'] = _0x27b682, _0xc6c5e2;
            }, _0x2a9406(_0x29b897, [
                '_tempVeloc' + 'ity',
                function () {
                    return this['_tempVeloc' + 'ity'] = new Float32Array(0x3);
                },
                '_tempStart' + 'Color',
                function () {
                    return this['_tempStart' + 'Color'] = new Float32Array(0x4);
                },
                '_tempEndCo' + 'lor',
                function () {
                    return this['_tempEndCo' + 'lor'] = new Float32Array(0x4);
                },
                '_tempSizeR' + 'otation',
                function () {
                    return this['_tempSizeR' + 'otation'] = new Float32Array(0x3);
                },
                '_tempRadiu' + 's',
                function () {
                    return this['_tempRadiu' + 's'] = new Float32Array(0x2);
                },
                '_tempRadia' + 'n',
                function () {
                    return this['_tempRadia' + 'n'] = new Float32Array(0x4);
                }
            ]), _0x29b897;
        }(), _0x55144e = (function () {
            function _0x5c8065(_0x5134d6, _0x4de611, _0x52b381) {
                this['_templet'] = null, this['_timeBetwe' + 'enParticle' + 's'] = NaN, this['_previousP' + 'osition'] = null, this['_timeLeftO' + 'ver'] = 0x0, this['_tempVeloc' + 'ity'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]), this['_tempPosit' + 'ion'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]), this['_templet'] = _0x5134d6, this['_timeBetwe' + 'enParticle' + 's'] = 0x1 / _0x4de611, this['_previousP' + 'osition'] = _0x52b381;
            }
            _0xaf61b8(_0x5c8065, 'laya.parti' + 'cle.Partic' + 'leEmitter'), _0x5c8065['prototype']['update'] = function (_0x13ef61, _0x4b447e) {
                if ((_0x13ef61 /= 0x3e8) > 0x0) {
                    _0x4a5743['subtractVe' + 'ctor3'](_0x4b447e, this['_previousP' + 'osition'], this['_tempVeloc' + 'ity']), _0x4a5743['scaleVecto' + 'r3'](this['_tempVeloc' + 'ity'], 0x1 / _0x13ef61, this['_tempVeloc' + 'ity']);
                    for (var _0x1d47bf = this['_timeLeftO' + 'ver'] + _0x13ef61, _0x58952a = -this['_timeLeftO' + 'ver']; _0x1d47bf > this['_timeBetwe' + 'enParticle' + 's'];)
                        _0x58952a += this['_timeBetwe' + 'enParticle' + 's'], _0x1d47bf -= this['_timeBetwe' + 'enParticle' + 's'], _0x4a5743['lerpVector' + '3'](this['_previousP' + 'osition'], _0x4b447e, _0x58952a / _0x13ef61, this['_tempPosit' + 'ion']), this['_templet']['addParticl' + 'eArray'](this['_tempPosit' + 'ion'], this['_tempVeloc' + 'ity']);
                    this['_timeLeftO' + 'ver'] = _0x1d47bf;
                }
                this['_previousP' + 'osition'][0x0] = _0x4b447e[0x0], this['_previousP' + 'osition'][0x1] = _0x4b447e[0x1], this['_previousP' + 'osition'][0x2] = _0x4b447e[0x2];
            };
        }(), function () {
            function _0x134478() {
                this['textureNam' + 'e'] = null, this['textureCou' + 'nt'] = 0x1, this['maxPartice' + 's'] = 0x64, this['duration'] = 0x1, this['ageAddScal' + 'e'] = 0x0, this['emitterVel' + 'ocitySensi' + 'tivity'] = 0x1, this['minStartSi' + 'ze'] = 0x64, this['maxStartSi' + 'ze'] = 0x64, this['minEndSize'] = 0x64, this['maxEndSize'] = 0x64, this['minHorizon' + 'talVelocit' + 'y'] = 0x0, this['maxHorizon' + 'talVelocit' + 'y'] = 0x0, this['minVertica' + 'lVelocity'] = 0x0, this['maxVertica' + 'lVelocity'] = 0x0, this['endVelocit' + 'y'] = 0x1, this['minRotateS' + 'peed'] = 0x0, this['maxRotateS' + 'peed'] = 0x0, this['minStartRa' + 'dius'] = 0x0, this['maxStartRa' + 'dius'] = 0x0, this['minEndRadi' + 'us'] = 0x0, this['maxEndRadi' + 'us'] = 0x0, this['minHorizon' + 'talStartRa' + 'dian'] = 0x0, this['maxHorizon' + 'talStartRa' + 'dian'] = 0x0, this['minVertica' + 'lStartRadi' + 'an'] = 0x0, this['maxVertica' + 'lStartRadi' + 'an'] = 0x0, this['useEndRadi' + 'an'] = !0x0, this['minHorizon' + 'talEndRadi' + 'an'] = 0x0, this['maxHorizon' + 'talEndRadi' + 'an'] = 0x0, this['minVertica' + 'lEndRadian'] = 0x0, this['maxVertica' + 'lEndRadian'] = 0x0, this['colorCompo' + 'nentInter'] = !0x1, this['disableCol' + 'or'] = !0x1, this['blendState'] = 0x0, this['emitterTyp' + 'e'] = 'null', this['emissionRa' + 'te'] = 0x0, this['sphereEmit' + 'terRadius'] = 0x1, this['sphereEmit' + 'terVelocit' + 'y'] = 0x0, this['sphereEmit' + 'terVelocit' + 'yAddVarian' + 'ce'] = 0x0, this['ringEmitte' + 'rRadius'] = 0x1e, this['ringEmitte' + 'rVelocity'] = 0x0, this['ringEmitte' + 'rVelocityA' + 'ddVariance'] = 0x0, this['ringEmitte' + 'rUp'] = 0x2, this['gravity'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]), this['minStartCo' + 'lor'] = new Float32Array([
                    0x1,
                    0x1,
                    0x1,
                    0x1
                ]), this['maxStartCo' + 'lor'] = new Float32Array([
                    0x1,
                    0x1,
                    0x1,
                    0x1
                ]), this['minEndColo' + 'r'] = new Float32Array([
                    0x1,
                    0x1,
                    0x1,
                    0x1
                ]), this['maxEndColo' + 'r'] = new Float32Array([
                    0x1,
                    0x1,
                    0x1,
                    0x1
                ]), this['pointEmitt' + 'erPosition'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]), this['pointEmitt' + 'erPosition' + 'Variance'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]), this['pointEmitt' + 'erVelocity'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]), this['pointEmitt' + 'erVelocity' + 'AddVarianc' + 'e'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]), this['boxEmitter' + 'CenterPosi' + 'tion'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]), this['boxEmitter' + 'Size'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]), this['boxEmitter' + 'Velocity'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]), this['boxEmitter' + 'VelocityAd' + 'dVariance'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]), this['sphereEmit' + 'terCenterP' + 'osition'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]), this['ringEmitte' + 'rCenterPos' + 'ition'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]), this['positionVa' + 'riance'] = new Float32Array([
                    0x0,
                    0x0,
                    0x0
                ]);
            }
            return _0xaf61b8(_0x134478, 'laya.parti' + 'cle.Partic' + 'leSetting'), _0x134478['checkSetti' + 'ng'] = function (_0x2cd331) {
                var _0x201bbd;
                for (_0x201bbd in _0x134478['_defaultSe' + 'tting'])
                    _0x2cd331['hasOwnProp' + 'erty'](_0x201bbd) || (_0x2cd331[_0x201bbd] = _0x134478['_defaultSe' + 'tting'][_0x201bbd]);
                _0x2cd331['endVelocit' + 'y'] = +_0x2cd331['endVelocit' + 'y'], _0x2cd331['gravity'][0x0] = +_0x2cd331['gravity'][0x0], _0x2cd331['gravity'][0x1] = +_0x2cd331['gravity'][0x1], _0x2cd331['gravity'][0x2] = +_0x2cd331['gravity'][0x2];
            }, _0x2a9406(_0x134478, [
                '_defaultSe' + 'tting',
                function () {
                    return this['_defaultSe' + 'tting'] = new _0x134478();
                }
            ]), _0x134478;
        }()), _0x565f49 = function () {
            function _0x4297e6() {
                this['settings'] = null, this['texture'] = null;
            }
            return _0xaf61b8(_0x4297e6, 'laya.parti' + 'cle.Partic' + 'leTemplate' + 'Base'), _0x4297e6['prototype']['addParticl' + 'eArray'] = function (_0x1a787e, _0x508c0c) {
            }, _0x4297e6;
        }(), _0xa7e6fd = function () {
            function _0x1024a8() {
                this['u_Duration'] = NaN, this['u_EndVeloc' + 'ity'] = NaN, this['u_Gravity'] = null, this['a_Position'] = null, this['a_Velocity'] = null, this['a_StartCol' + 'or'] = null, this['a_EndColor'] = null, this['a_SizeRota' + 'tion'] = null, this['a_Radius'] = null, this['a_Radian'] = null, this['a_AgeAddSc' + 'ale'] = NaN, this['gl_Positio' + 'n'] = null, this['v_Color'] = null, this['oSize'] = NaN, this['_color'] = new Float32Array(0x4), this['_position'] = new Float32Array(0x3);
            }
            _0xaf61b8(_0x1024a8, 'laya.parti' + 'cle.partic' + 'leUtils.Ca' + 'nvasShader');
            var _0x5434a3 = _0x1024a8['prototype'];
            return _0x5434a3['getLen'] = function (_0x2b95c3) {
                return Math['sqrt'](_0x2b95c3[0x0] * _0x2b95c3[0x0] + _0x2b95c3[0x1] * _0x2b95c3[0x1] + _0x2b95c3[0x2] * _0x2b95c3[0x2]);
            }, _0x5434a3['ComputePar' + 'ticlePosit' + 'ion'] = function (_0x41c4f2, _0x41cd2a, _0x154a98, _0x280db2) {
                this['_position'][0x0] = _0x41c4f2[0x0], this['_position'][0x1] = _0x41c4f2[0x1], this['_position'][0x2] = _0x41c4f2[0x2];
                var _0x3de3fb, _0x20b996 = this['getLen'](_0x41cd2a), _0x1d1293 = _0x20b996 * _0x280db2 + (_0x20b996 * this['u_EndVeloc' + 'ity'] - _0x20b996) * _0x280db2 * _0x280db2 / 0x2;
                _0x3de3fb = this['getLen'](_0x41cd2a);
                var _0x4f3f7f = 0x0;
                for (_0x4f3f7f = 0x0; _0x4f3f7f < 0x3; _0x4f3f7f++)
                    this['_position'][_0x4f3f7f] = this['_position'][_0x4f3f7f] + _0x41cd2a[_0x4f3f7f] / _0x3de3fb * _0x1d1293 * this['u_Duration'], this['_position'][_0x4f3f7f] += this['u_Gravity'][_0x4f3f7f] * _0x154a98 * _0x280db2;
                var _0x1989ed = _0x4a5743['lerp'](this['a_Radius'][0x0], this['a_Radius'][0x1], _0x280db2), _0xfabbdc = _0x4a5743['lerp'](this['a_Radian'][0x0], this['a_Radian'][0x2], _0x280db2), _0x4a7db1 = _0x4a5743['lerp'](this['a_Radian'][0x1], this['a_Radian'][0x3], _0x280db2), _0x21e26e = Math['cos'](_0x4a7db1) * _0x1989ed;
                return this['_position'][0x1] += Math['sin'](_0x4a7db1) * _0x1989ed, this['_position'][0x0] += Math['cos'](_0xfabbdc) * _0x21e26e, this['_position'][0x2] += Math['sin'](_0xfabbdc) * _0x21e26e, new Float32Array([
                    this['_position'][0x0],
                    this['_position'][0x1],
                    0x0,
                    0x1
                ]);
            }, _0x5434a3['ComputePar' + 'ticleSize'] = function (_0x23ab93, _0x361b70, _0x20148a) {
                return _0x4a5743['lerp'](_0x23ab93, _0x361b70, _0x20148a);
            }, _0x5434a3['ComputePar' + 'ticleRotat' + 'ion'] = function (_0x524eec, _0x3ffdc2) {
                return _0x524eec * _0x3ffdc2;
            }, _0x5434a3['ComputePar' + 'ticleColor'] = function (_0x57955c, _0x432651, _0x80b50d) {
                var _0x3c9476 = this['_color'];
                return _0x4a5743['lerpVector' + '4'](_0x57955c, _0x432651, _0x80b50d, _0x3c9476), _0x3c9476[0x3] = _0x3c9476[0x3] * _0x80b50d * (0x1 - _0x80b50d) * (0x1 - _0x80b50d) * 6.7, _0x3c9476;
            }, _0x5434a3['clamp'] = function (_0x3943e2, _0x5d4dcb, _0x27a7cc) {
                return _0x3943e2 < _0x5d4dcb ? _0x5d4dcb : _0x3943e2 > _0x27a7cc ? _0x27a7cc : _0x3943e2;
            }, _0x5434a3['getData'] = function (_0x175793) {
                _0x175793 *= 0x1 + this['a_AgeAddSc' + 'ale'];
                var _0x41e329 = this['clamp'](_0x175793 / this['u_Duration'], 0x0, 0x1);
                this['gl_Positio' + 'n'] = this['ComputePar' + 'ticlePosit' + 'ion'](this['a_Position'], this['a_Velocity'], _0x175793, _0x41e329);
                var _0x9a4ee = this['ComputePar' + 'ticleSize'](this['a_SizeRota' + 'tion'][0x0], this['a_SizeRota' + 'tion'][0x1], _0x41e329), _0xa9cbd7 = this['ComputePar' + 'ticleRotat' + 'ion'](this['a_SizeRota' + 'tion'][0x2], _0x175793);
                this['v_Color'] = this['ComputePar' + 'ticleColor'](this['a_StartCol' + 'or'], this['a_EndColor'], _0x41e329);
                var _0x355f55, _0x284279 = new _0x792476();
                _0x355f55 = _0x9a4ee / this['oSize'] * 0x2, _0x284279['scale'](_0x355f55, _0x355f55), _0x284279['rotate'](_0xa9cbd7), _0x284279['setTransla' + 'te'](this['gl_Positio' + 'n'][0x0], -this['gl_Positio' + 'n'][0x1]);
                var _0x3dbc0c;
                return _0x3dbc0c = this['v_Color'][0x3], [
                    this['v_Color'],
                    _0x3dbc0c,
                    _0x284279,
                    this['v_Color'][0x0] * _0x3dbc0c,
                    this['v_Color'][0x1] * _0x3dbc0c,
                    this['v_Color'][0x2] * _0x3dbc0c
                ];
            }, _0x1024a8;
        }(), _0x2bc58d = function () {
            function _0x7c0511() {
                this['maxIndex'] = 0x0, this['cmds'] = null, this['id'] = 0x0;
            }
            return _0xaf61b8(_0x7c0511, 'laya.parti' + 'cle.partic' + 'leUtils.CM' + 'DParticle'), _0x7c0511['prototype']['setCmds'] = function (_0x49b28f) {
                this['cmds'] = _0x49b28f, this['maxIndex'] = _0x49b28f['length'] - 0x1;
            }, _0x7c0511;
        }(), _0x43b6d9 = function () {
            function _0x414875() {
            }
            return _0xaf61b8(_0x414875, 'laya.parti' + 'cle.partic' + 'leUtils.Pi' + 'cTool'), _0x414875['getCanvasP' + 'ic'] = function (_0x369d13, _0x101bf3) {
                _0x369d13 = _0x369d13['bitmap'];
                var _0x1b4d9f = new _0x104945('2D'), _0x18709b = _0x1b4d9f['getContext']('2d');
                _0x1b4d9f['size'](_0x369d13['width'], _0x369d13['height']);
                var _0x2aa55f = _0x101bf3 >> 0x10 & 0xff, _0x9cc2f0 = _0x101bf3 >> 0x8 & 0xff, _0x42779c = 0xff & _0x101bf3;
                if (_0x1d3925['isConchApp'] && _0x18709b['setFilter'](_0x2aa55f / 0xff, _0x9cc2f0 / 0xff, _0x42779c / 0xff, 0x0), _0x18709b['drawImage'](_0x369d13['source'], 0x0, 0x0), !_0x1d3925['isConchApp']) {
                    for (var _0x451e17 = _0x18709b['getImageDa' + 'ta'](0x0, 0x0, _0x1b4d9f['width'], _0x1b4d9f['height']), _0x3eb7aa = _0x451e17['data'], _0xabd635 = 0x0, _0x2a4ce4 = _0x3eb7aa['length']; _0xabd635 < _0x2a4ce4; _0xabd635 += 0x4)
                        0x0 != _0x3eb7aa[_0xabd635 + 0x3] && (_0x3eb7aa[_0xabd635] *= _0x2aa55f / 0xff, _0x3eb7aa[_0xabd635 + 0x1] *= _0x9cc2f0 / 0xff, _0x3eb7aa[_0xabd635 + 0x2] *= _0x42779c / 0xff);
                    _0x18709b['putImageDa' + 'ta'](_0x451e17, 0x0, 0x0);
                }
                return _0x1b4d9f;
            }, _0x414875['getRGBPic'] = function (_0x5989f2) {
                return [
                    new _0x579bf1(_0x414875['getCanvasP' + 'ic'](_0x5989f2, 0xff0000)),
                    new _0x579bf1(_0x414875['getCanvasP' + 'ic'](_0x5989f2, 0xff00)),
                    new _0x579bf1(_0x414875['getCanvasP' + 'ic'](_0x5989f2, 0xff))
                ];
            }, _0x414875;
        }(), _0x43de66 = function (_0x3192d6) {
            function _0x1eb4dd(_0x4f3380) {
                this['setting'] = null, this['_posRange'] = null, this['_canvasTem' + 'plate'] = null, this['_emitFun'] = null, _0x1eb4dd['__super']['call'](this), this['template'] = _0x4f3380;
            }
            _0xaf61b8(_0x1eb4dd, 'laya.parti' + 'cle.emitte' + 'r.Emitter2' + 'D', _0x3192d6);
            var _0x172fc7 = _0x1eb4dd['prototype'];
            return _0x172fc7['emit'] = function () {
                _0x3192d6['prototype']['emit']['call'](this), null != this['_emitFun'] && this['_emitFun']();
            }, _0x172fc7['getRandom'] = function (_0x86767d) {
                return (0x2 * Math['random']() - 0x1) * _0x86767d;
            }, _0x172fc7['webGLEmit'] = function () {
                var _0x313c0d = new Float32Array(0x3);
                _0x313c0d[0x0] = this['getRandom'](this['_posRange'][0x0]), _0x313c0d[0x1] = this['getRandom'](this['_posRange'][0x1]), _0x313c0d[0x2] = this['getRandom'](this['_posRange'][0x2]);
                var _0x4c05ad = new Float32Array(0x3);
                _0x4c05ad[0x0] = 0x0, _0x4c05ad[0x1] = 0x0, _0x4c05ad[0x2] = 0x0, this['_particleT' + 'emplate']['addParticl' + 'eArray'](_0x313c0d, _0x4c05ad);
            }, _0x172fc7['canvasEmit'] = function () {
                var _0xa786c7 = new Float32Array(0x3);
                _0xa786c7[0x0] = this['getRandom'](this['_posRange'][0x0]), _0xa786c7[0x1] = this['getRandom'](this['_posRange'][0x1]), _0xa786c7[0x2] = this['getRandom'](this['_posRange'][0x2]);
                var _0x5c57d2 = new Float32Array(0x3);
                _0x5c57d2[0x0] = 0x0, _0x5c57d2[0x1] = 0x0, _0x5c57d2[0x2] = 0x0, this['_particleT' + 'emplate']['addParticl' + 'eArray'](_0xa786c7, _0x5c57d2);
            }, _0x7f72e3(0x0, _0x172fc7, 'template', function () {
                return this['_particleT' + 'emplate'];
            }, function (_0x2559fd) {
                this['_particleT' + 'emplate'] = _0x2559fd, _0x2559fd || (this['_emitFun'] = null, this['setting'] = null, this['_posRange'] = null), this['setting'] = _0x2559fd['settings'], this['_posRange'] = this['setting']['positionVa' + 'riance'], this['_particleT' + 'emplate'] instanceof laya['particle']['ParticleTe' + 'mplate2D'] ? this['_emitFun'] = this['webGLEmit'] : this['_particleT' + 'emplate'] instanceof laya['particle']['ParticleTe' + 'mplateCanv' + 'as'] && (this['_canvasTem' + 'plate'] = _0x2559fd, this['_emitFun'] = this['canvasEmit']);
            }), _0x1eb4dd;
        }(_0x40a11b), _0x4cb904 = function (_0x383a1e) {
            function _0x56ee86(_0x466f5a) {
                this['_vertices'] = null, this['_vertexBuf' + 'fer'] = null, this['_indexBuff' + 'er'] = null, this['_floatCoun' + 'tPerVertex'] = 0x1d, this['_firstActi' + 'veElement'] = 0x0, this['_firstNewE' + 'lement'] = 0x0, this['_firstFree' + 'Element'] = 0x0, this['_firstReti' + 'redElement'] = 0x0, this['_currentTi' + 'me'] = 0x0, this['_drawCount' + 'er'] = 0x0, _0x56ee86['__super']['call'](this), this['settings'] = _0x466f5a;
            }
            _0xaf61b8(_0x56ee86, 'laya.parti' + 'cle.Partic' + 'leTemplate' + 'WebGL', _0x565f49);
            var _0x16cd8e = _0x56ee86['prototype'];
            return _0x16cd8e['initialize'] = function () {
                this['_vertices'] = new Float32Array(this['settings']['maxPartice' + 's'] * this['_floatCoun' + 'tPerVertex'] * 0x4);
                for (var _0x4c8581 = 0x0, _0x55f7b4 = 0x0; _0x55f7b4 < this['settings']['maxPartice' + 's']; _0x55f7b4++) {
                    var _0x5a13ee = Math['random'](), _0x24715d = this['settings']['textureCou' + 'nt'] ? 0x1 / this['settings']['textureCou' + 'nt'] : 0x1, _0x346c6a = NaN;
                    for (_0x346c6a = 0x0; _0x346c6a < this['settings']['textureCou' + 'nt'] && !(_0x5a13ee < _0x346c6a + _0x24715d); _0x346c6a += _0x24715d);
                    _0x4c8581 = _0x55f7b4 * this['_floatCoun' + 'tPerVertex'] * 0x4, this['_vertices'][_0x4c8581 + 0x0 * this['_floatCoun' + 'tPerVertex'] + 0x0] = -0x1, this['_vertices'][_0x4c8581 + 0x0 * this['_floatCoun' + 'tPerVertex'] + 0x1] = -0x1, this['_vertices'][_0x4c8581 + 0x0 * this['_floatCoun' + 'tPerVertex'] + 0x2] = 0x0, this['_vertices'][_0x4c8581 + 0x0 * this['_floatCoun' + 'tPerVertex'] + 0x3] = _0x346c6a, this['_vertices'][_0x4c8581 + 0x1 * this['_floatCoun' + 'tPerVertex'] + 0x0] = 0x1, this['_vertices'][_0x4c8581 + 0x1 * this['_floatCoun' + 'tPerVertex'] + 0x1] = -0x1, this['_vertices'][_0x4c8581 + 0x1 * this['_floatCoun' + 'tPerVertex'] + 0x2] = 0x1, this['_vertices'][_0x4c8581 + 0x1 * this['_floatCoun' + 'tPerVertex'] + 0x3] = _0x346c6a, this['_vertices'][_0x4c8581 + 0x2 * this['_floatCoun' + 'tPerVertex'] + 0x0] = 0x1, this['_vertices'][_0x4c8581 + 0x2 * this['_floatCoun' + 'tPerVertex'] + 0x1] = 0x1, this['_vertices'][_0x4c8581 + 0x2 * this['_floatCoun' + 'tPerVertex'] + 0x2] = 0x1, this['_vertices'][_0x4c8581 + 0x2 * this['_floatCoun' + 'tPerVertex'] + 0x3] = _0x346c6a + _0x24715d, this['_vertices'][_0x4c8581 + 0x3 * this['_floatCoun' + 'tPerVertex'] + 0x0] = -0x1, this['_vertices'][_0x4c8581 + 0x3 * this['_floatCoun' + 'tPerVertex'] + 0x1] = 0x1, this['_vertices'][_0x4c8581 + 0x3 * this['_floatCoun' + 'tPerVertex'] + 0x2] = 0x0, this['_vertices'][_0x4c8581 + 0x3 * this['_floatCoun' + 'tPerVertex'] + 0x3] = _0x346c6a + _0x24715d;
                }
            }, _0x16cd8e['loadConten' + 't'] = function () {
            }, _0x16cd8e['update'] = function (_0x3f29de) {
                this['_currentTi' + 'me'] += _0x3f29de / 0x3e8, this['retireActi' + 'veParticle' + 's'](), this['freeRetire' + 'dParticles'](), this['_firstActi' + 'veElement'] == this['_firstFree' + 'Element'] && (this['_currentTi' + 'me'] = 0x0), this['_firstReti' + 'redElement'] == this['_firstActi' + 'veElement'] && (this['_drawCount' + 'er'] = 0x0);
            }, _0x16cd8e['retireActi' + 'veParticle' + 's'] = function () {
                for (var _0x45f3f6 = this['settings']['duration']; this['_firstActi' + 'veElement'] != this['_firstNewE' + 'lement'];) {
                    var _0x3ab72e = this['_firstActi' + 'veElement'] * this['_floatCoun' + 'tPerVertex'] * 0x4, _0x197dc6 = _0x3ab72e + 0x1c, _0x5dfaf7 = this['_currentTi' + 'me'] - this['_vertices'][_0x197dc6];
                    if (0.0001 + (_0x5dfaf7 *= 0x1 + this['_vertices'][_0x3ab72e + 0x1b]) < _0x45f3f6)
                        break;
                    this['_vertices'][_0x197dc6] = this['_drawCount' + 'er'], this['_firstActi' + 'veElement']++, this['_firstActi' + 'veElement'] >= this['settings']['maxPartice' + 's'] && (this['_firstActi' + 'veElement'] = 0x0);
                }
            }, _0x16cd8e['freeRetire' + 'dParticles'] = function () {
                for (; this['_firstReti' + 'redElement'] != this['_firstActi' + 'veElement'] && !(this['_drawCount' + 'er'] - this['_vertices'][this['_firstReti' + 'redElement'] * this['_floatCoun' + 'tPerVertex'] * 0x4 + 0x1c] < 0x3);)
                    this['_firstReti' + 'redElement']++, this['_firstReti' + 'redElement'] >= this['settings']['maxPartice' + 's'] && (this['_firstReti' + 'redElement'] = 0x0);
            }, _0x16cd8e['addNewPart' + 'iclesToVer' + 'texBuffer'] = function () {
            }, _0x16cd8e['addParticl' + 'eArray'] = function (_0x10ae72, _0x2d28ae) {
                var _0x3a5971 = this['_firstFree' + 'Element'] + 0x1;
                if (_0x3a5971 >= this['settings']['maxPartice' + 's'] && (_0x3a5971 = 0x0), _0x3a5971 !== this['_firstReti' + 'redElement']) {
                    for (var _0x3a1f49 = _0x35080a['Create'](this['settings'], _0x10ae72, _0x2d28ae, this['_currentTi' + 'me']), _0x2e8cd9 = this['_firstFree' + 'Element'] * this['_floatCoun' + 'tPerVertex'] * 0x4, _0x455069 = 0x0; _0x455069 < 0x4; _0x455069++) {
                        var _0x33e904 = 0x0, _0x46c31e = 0x0;
                        for (_0x33e904 = 0x0, _0x46c31e = 0x4; _0x33e904 < 0x3; _0x33e904++)
                            this['_vertices'][_0x2e8cd9 + _0x455069 * this['_floatCoun' + 'tPerVertex'] + _0x46c31e + _0x33e904] = _0x3a1f49['position'][_0x33e904];
                        for (_0x33e904 = 0x0, _0x46c31e = 0x7; _0x33e904 < 0x3; _0x33e904++)
                            this['_vertices'][_0x2e8cd9 + _0x455069 * this['_floatCoun' + 'tPerVertex'] + _0x46c31e + _0x33e904] = _0x3a1f49['velocity'][_0x33e904];
                        for (_0x33e904 = 0x0, _0x46c31e = 0xa; _0x33e904 < 0x4; _0x33e904++)
                            this['_vertices'][_0x2e8cd9 + _0x455069 * this['_floatCoun' + 'tPerVertex'] + _0x46c31e + _0x33e904] = _0x3a1f49['startColor'][_0x33e904];
                        for (_0x33e904 = 0x0, _0x46c31e = 0xe; _0x33e904 < 0x4; _0x33e904++)
                            this['_vertices'][_0x2e8cd9 + _0x455069 * this['_floatCoun' + 'tPerVertex'] + _0x46c31e + _0x33e904] = _0x3a1f49['endColor'][_0x33e904];
                        for (_0x33e904 = 0x0, _0x46c31e = 0x12; _0x33e904 < 0x3; _0x33e904++)
                            this['_vertices'][_0x2e8cd9 + _0x455069 * this['_floatCoun' + 'tPerVertex'] + _0x46c31e + _0x33e904] = _0x3a1f49['sizeRotati' + 'on'][_0x33e904];
                        for (_0x33e904 = 0x0, _0x46c31e = 0x15; _0x33e904 < 0x2; _0x33e904++)
                            this['_vertices'][_0x2e8cd9 + _0x455069 * this['_floatCoun' + 'tPerVertex'] + _0x46c31e + _0x33e904] = _0x3a1f49['radius'][_0x33e904];
                        for (_0x33e904 = 0x0, _0x46c31e = 0x17; _0x33e904 < 0x4; _0x33e904++)
                            this['_vertices'][_0x2e8cd9 + _0x455069 * this['_floatCoun' + 'tPerVertex'] + _0x46c31e + _0x33e904] = _0x3a1f49['radian'][_0x33e904];
                        this['_vertices'][_0x2e8cd9 + _0x455069 * this['_floatCoun' + 'tPerVertex'] + 0x1b] = _0x3a1f49['durationAd' + 'dScale'], this['_vertices'][_0x2e8cd9 + _0x455069 * this['_floatCoun' + 'tPerVertex'] + 0x1c] = _0x3a1f49['time'];
                    }
                    this['_firstFree' + 'Element'] = _0x3a5971;
                }
            }, _0x56ee86;
        }(), _0x42d45b = function (_0x1e2760) {
            function _0x4815ee(_0xe367db) {
                this['_ready'] = !0x1, this['textureLis' + 't'] = [], this['particleLi' + 'st'] = [], this['pX'] = 0x0, this['pY'] = 0x0, this['activePart' + 'icles'] = [], this['deadPartic' + 'les'] = [], this['iList'] = [], this['_maxNumPar' + 'ticles'] = 0x0, this['textureWid' + 'th'] = NaN, this['dTextureWi' + 'dth'] = NaN, this['colorChang' + 'e'] = !0x0, this['step'] = 0x1 / 0x3c, this['canvasShad' + 'er'] = new _0xa7e6fd(), _0x4815ee['__super']['call'](this), this['settings'] = _0xe367db, this['_maxNumPar' + 'ticles'] = _0xe367db['maxPartice' + 's'], this['texture'] = new _0x579bf1(), this['texture']['on']('loaded', this, this['_textureLo' + 'aded']), this['texture']['load'](_0xe367db['textureNam' + 'e']);
            }
            _0xaf61b8(_0x4815ee, 'laya.parti' + 'cle.Partic' + 'leTemplate' + 'Canvas', _0x565f49);
            var _0xcf189c = _0x4815ee['prototype'];
            return _0xcf189c['_textureLo' + 'aded'] = function (_0x52179c) {
                this['setTexture'](this['texture']), this['_ready'] = !0x0;
            }, _0xcf189c['clear'] = function (_0xf5f0b2) {
                void 0x0 === _0xf5f0b2 && (_0xf5f0b2 = !0x0), this['deadPartic' + 'les']['length'] = 0x0, this['activePart' + 'icles']['length'] = 0x0, this['textureLis' + 't']['length'] = 0x0;
            }, _0xcf189c['setTexture'] = function (_0x180d23) {
                this['texture'] = _0x180d23, this['textureWid' + 'th'] = _0x180d23['width'], this['dTextureWi' + 'dth'] = 0x1 / this['textureWid' + 'th'], this['pX'] = 0.5 * -_0x180d23['width'], this['pY'] = 0.5 * -_0x180d23['height'], this['textureLis' + 't'] = _0x4815ee['changeText' + 'ure'](_0x180d23, this['textureLis' + 't']), this['particleLi' + 'st']['length'] = 0x0, this['deadPartic' + 'les']['length'] = 0x0, this['activePart' + 'icles']['length'] = 0x0;
            }, _0xcf189c['_createAPa' + 'rticleData'] = function (_0x3fa2ec, _0x3ca268) {
                var _0x690c3;
                this['canvasShad' + 'er']['u_EndVeloc' + 'ity'] = this['settings']['endVelocit' + 'y'], this['canvasShad' + 'er']['u_Gravity'] = this['settings']['gravity'], this['canvasShad' + 'er']['u_Duration'] = this['settings']['duration'], _0x690c3 = _0x35080a['Create'](this['settings'], _0x3fa2ec, _0x3ca268, 0x0), this['canvasShad' + 'er']['a_Position'] = _0x690c3['position'], this['canvasShad' + 'er']['a_Velocity'] = _0x690c3['velocity'], this['canvasShad' + 'er']['a_StartCol' + 'or'] = _0x690c3['startColor'], this['canvasShad' + 'er']['a_EndColor'] = _0x690c3['endColor'], this['canvasShad' + 'er']['a_SizeRota' + 'tion'] = _0x690c3['sizeRotati' + 'on'], this['canvasShad' + 'er']['a_Radius'] = _0x690c3['radius'], this['canvasShad' + 'er']['a_Radian'] = _0x690c3['radian'], this['canvasShad' + 'er']['a_AgeAddSc' + 'ale'] = _0x690c3['durationAd' + 'dScale'], this['canvasShad' + 'er']['oSize'] = this['textureWid' + 'th'];
                var _0x17b216 = new _0x2bc58d(), _0x4eca58 = 0x0, _0x456a2a = this['settings']['duration'] / (0x1 + _0x690c3['durationAd' + 'dScale']), _0xcec73a = [];
                for (_0x4eca58 = 0x0; _0x4eca58 < _0x456a2a; _0x4eca58 += this['step'])
                    _0xcec73a['push'](this['canvasShad' + 'er']['getData'](_0x4eca58));
                return _0x17b216['id'] = this['particleLi' + 'st']['length'], this['particleLi' + 'st']['push'](_0x17b216), _0x17b216['setCmds'](_0xcec73a), _0x17b216;
            }, _0xcf189c['addParticl' + 'eArray'] = function (_0x2c37bd, _0x3e630a) {
                var _0x52dc43;
                this['_ready'] && (this['particleLi' + 'st']['length'] < this['_maxNumPar' + 'ticles'] ? (_0x52dc43 = this['_createAPa' + 'rticleData'](_0x2c37bd, _0x3e630a), this['iList'][_0x52dc43['id']] = 0x0, this['activePart' + 'icles']['push'](_0x52dc43)) : this['deadPartic' + 'les']['length'] > 0x0 && (_0x52dc43 = this['deadPartic' + 'les']['pop'](), this['iList'][_0x52dc43['id']] = 0x0, this['activePart' + 'icles']['push'](_0x52dc43)));
            }, _0xcf189c['advanceTim' + 'e'] = function (_0xaf5459) {
                if (void 0x0 === _0xaf5459 && (_0xaf5459 = 0x1), this['_ready']) {
                    var _0x2fe159, _0xabfc6c = this['activePart' + 'icles'], _0x558ca9 = this['deadPartic' + 'les'], _0x290174 = 0x0, _0x12ddf3 = _0xabfc6c['length'], _0x415bc6 = 0x0, _0x15b5f3 = this['iList'];
                    for (_0x290174 = _0x12ddf3 - 0x1; _0x290174 > -0x1; _0x290174--)
                        (_0x415bc6 = _0x15b5f3[(_0x2fe159 = _0xabfc6c[_0x290174])['id']]) >= _0x2fe159['maxIndex'] ? (_0x415bc6 = 0x0, _0xabfc6c['splice'](_0x290174, 0x1), _0x558ca9['push'](_0x2fe159)) : _0x415bc6 += 0x1, _0x15b5f3[_0x2fe159['id']] = _0x415bc6;
                }
            }, _0xcf189c['render'] = function (_0x13c8a4, _0x4633ec, _0x1dbe87) {
                this['_ready'] && (this['activePart' + 'icles']['length'] < 0x1 || this['textureLis' + 't']['length'] < 0x2 || (this['settings']['disableCol' + 'or'] ? this['noColorRen' + 'der'](_0x13c8a4, _0x4633ec, _0x1dbe87) : this['canvasRend' + 'er'](_0x13c8a4, _0x4633ec, _0x1dbe87)));
            }, _0xcf189c['noColorRen' + 'der'] = function (_0x2e89d7, _0x282f6b, _0xa62b87) {
                var _0x30d4ef, _0x4bf2eb, _0x333290, _0x40eeaa = this['activePart' + 'icles'], _0x467e0d = 0x0, _0x177b98 = _0x40eeaa['length'], _0x47012d = NaN, _0x23ab21 = this['pX'], _0x387511 = this['pY'], _0xc3d48b = 0x2 * -_0x23ab21, _0x410463 = 0x2 * -_0x387511, _0x1a89ee = 0x0, _0x5980ca = (this['textureLis' + 't'], this['iList']);
                for (_0x2e89d7['translate'](_0x282f6b, _0xa62b87), _0x333290 = _0x2e89d7['ctx']['globalAlph' + 'a'], _0x467e0d = 0x0; _0x467e0d < _0x177b98; _0x467e0d++)
                    _0x1a89ee = _0x5980ca[(_0x30d4ef = _0x40eeaa[_0x467e0d])['id']], (_0x4bf2eb = _0x30d4ef['cmds'][_0x1a89ee]) && ((_0x47012d = _0x4bf2eb[0x1]) <= 0.01 || (_0x2e89d7['setAlpha'](_0x333290 * _0x47012d), _0x2e89d7['drawTextur' + 'eWithTrans' + 'form'](this['texture'], _0x23ab21, _0x387511, _0xc3d48b, _0x410463, _0x4bf2eb[0x2], 0x1)));
                _0x2e89d7['setAlpha'](_0x333290), _0x2e89d7['translate'](-_0x282f6b, -_0xa62b87);
            }, _0xcf189c['canvasRend' + 'er'] = function (_0x64f092, _0x5bb83d, _0x1e5a17) {
                var _0x42e269, _0x48d1e4, _0x37c4a4, _0x2e4015, _0x3e9d06 = this['activePart' + 'icles'], _0x5f2667 = 0x0, _0x901fb7 = _0x3e9d06['length'], _0xa05d81 = this['pX'], _0x467a43 = this['pY'], _0x407f3d = 0x2 * -_0xa05d81, _0x427b2c = 0x2 * -_0x467a43, _0x8de41c = 0x0, _0x492b84 = this['textureLis' + 't'], _0x4ea393 = this['iList'];
                for (_0x64f092['translate'](_0x5bb83d, _0x1e5a17), _0x2e4015 = _0x64f092['ctx']['globalAlph' + 'a'], _0x37c4a4 = _0x64f092['ctx']['globalComp' + 'ositeOpera' + 'tion'], _0x64f092['blendMode']('lighter'), _0x5f2667 = 0x0; _0x5f2667 < _0x901fb7; _0x5f2667++)
                    _0x8de41c = _0x4ea393[(_0x42e269 = _0x3e9d06[_0x5f2667])['id']], (_0x48d1e4 = _0x42e269['cmds'][_0x8de41c]) && (_0x48d1e4[0x1] <= 0.01 || (_0x64f092['save'](), _0x64f092['transformB' + 'yMatrix'](_0x48d1e4[0x2]), _0x48d1e4[0x3] > 0.01 && (_0x64f092['setAlpha'](_0x2e4015 * _0x48d1e4[0x3]), _0x64f092['drawTextur' + 'e'](_0x492b84[0x0], _0xa05d81, _0x467a43, _0x407f3d, _0x427b2c)), _0x48d1e4[0x4] > 0.01 && (_0x64f092['setAlpha'](_0x2e4015 * _0x48d1e4[0x4]), _0x64f092['drawTextur' + 'e'](_0x492b84[0x1], _0xa05d81, _0x467a43, _0x407f3d, _0x427b2c)), _0x48d1e4[0x5] > 0.01 && (_0x64f092['setAlpha'](_0x2e4015 * _0x48d1e4[0x5]), _0x64f092['drawTextur' + 'e'](_0x492b84[0x2], _0xa05d81, _0x467a43, _0x407f3d, _0x427b2c)), _0x64f092['restore']()));
                _0x64f092['setAlpha'](_0x2e4015), _0x64f092['translate'](-_0x5bb83d, -_0x1e5a17), _0x64f092['blendMode'](_0x37c4a4);
            }, _0x4815ee['changeText' + 'ure'] = function (_0x13b2b8, _0x405237, _0x3b6bcf) {
                return _0x405237 || (_0x405237 = []), _0x405237['length'] = 0x0, _0x3b6bcf && _0x3b6bcf['disableCol' + 'or'] ? _0x405237['push'](_0x13b2b8, _0x13b2b8, _0x13b2b8) : _0x5666ac['copyArray'](_0x405237, _0x43b6d9['getRGBPic'](_0x13b2b8)), _0x405237;
            }, _0x4815ee;
        }(), _0xc6d5e8 = function (_0xbad51d) {
            function _0x1edfbd(_0x40030b) {
                this['_vertexBuf' + 'fer2D'] = null, this['_indexBuff' + 'er2D'] = null, this['x'] = 0x0, this['y'] = 0x0, this['_blendFn'] = null, this['_startTime'] = 0x0, this['sv'] = new _0x44d176(), _0x1edfbd['__super']['call'](this, _0x40030b);
                var _0x48f695 = this;
                _0xafdb2b['loader']['load'](this['settings']['textureNam' + 'e'], _0x318061['create'](null, function (_0x3041ef) {
                    _0x3041ef['bitmap']['enableMera' + 'geInAtlas'] = !0x1, _0x48f695['texture'] = _0x3041ef;
                })), this['sv']['u_Duration'] = this['settings']['duration'], this['sv']['u_Gravity'] = this['settings']['gravity'], this['sv']['u_EndVeloc' + 'ity'] = this['settings']['endVelocit' + 'y'], this['_blendFn'] = _0x2f586c['fns'][_0x40030b['blendState']], this['initialize'](), this['_vertexBuf' + 'fer'] = this['_vertexBuf' + 'fer2D'] = _0x193d38['create'](-0x1, 0x88e8), this['_indexBuff' + 'er'] = this['_indexBuff' + 'er2D'] = _0x2e2990['create'](0x88e4), this['loadConten' + 't']();
            }
            _0xaf61b8(_0x1edfbd, 'laya.parti' + 'cle.Partic' + 'leTemplate' + '2D', _0xbad51d);
            var _0x26851f = _0x1edfbd['prototype'];
            return _0xafdb2b['imps'](_0x26851f, { 'laya.webgl.submit.ISubmit': !0x0 }), _0x26851f['getRenderT' + 'ype'] = function () {
                return -0x6f;
            }, _0x26851f['releaseRen' + 'der'] = function () {
            }, _0x26851f['addParticl' + 'eArray'] = function (_0x43aadc, _0x59acbd) {
                _0x43aadc[0x0] += this['x'], _0x43aadc[0x1] += this['y'], _0xbad51d['prototype']['addParticl' + 'eArray']['call'](this, _0x43aadc, _0x59acbd);
            }, _0x26851f['loadConten' + 't'] = function () {
                for (var _0x5b000f = new Uint16Array(0x6 * this['settings']['maxPartice' + 's']), _0x586f23 = 0x0; _0x586f23 < this['settings']['maxPartice' + 's']; _0x586f23++)
                    _0x5b000f[0x6 * _0x586f23 + 0x0] = 0x4 * _0x586f23 + 0x0, _0x5b000f[0x6 * _0x586f23 + 0x1] = 0x4 * _0x586f23 + 0x1, _0x5b000f[0x6 * _0x586f23 + 0x2] = 0x4 * _0x586f23 + 0x2, _0x5b000f[0x6 * _0x586f23 + 0x3] = 0x4 * _0x586f23 + 0x0, _0x5b000f[0x6 * _0x586f23 + 0x4] = 0x4 * _0x586f23 + 0x2, _0x5b000f[0x6 * _0x586f23 + 0x5] = 0x4 * _0x586f23 + 0x3;
                this['_indexBuff' + 'er2D']['clear'](), this['_indexBuff' + 'er2D']['append'](_0x5b000f), this['_indexBuff' + 'er2D']['upload']();
            }, _0x26851f['addNewPart' + 'iclesToVer' + 'texBuffer'] = function () {
                this['_vertexBuf' + 'fer2D']['clear'](), this['_vertexBuf' + 'fer2D']['append'](this['_vertices']);
                var _0x56ca91 = 0x0;
                this['_firstNewE' + 'lement'] < this['_firstFree' + 'Element'] ? (_0x56ca91 = 0x4 * this['_firstNewE' + 'lement'] * this['_floatCoun' + 'tPerVertex'] * 0x4, this['_vertexBuf' + 'fer2D']['subUpload'](_0x56ca91, _0x56ca91, _0x56ca91 + 0x4 * (this['_firstFree' + 'Element'] - this['_firstNewE' + 'lement']) * this['_floatCoun' + 'tPerVertex'] * 0x4)) : (_0x56ca91 = 0x4 * this['_firstNewE' + 'lement'] * this['_floatCoun' + 'tPerVertex'] * 0x4, this['_vertexBuf' + 'fer2D']['subUpload'](_0x56ca91, _0x56ca91, _0x56ca91 + 0x4 * (this['settings']['maxPartice' + 's'] - this['_firstNewE' + 'lement']) * this['_floatCoun' + 'tPerVertex'] * 0x4), this['_firstFree' + 'Element'] > 0x0 && (this['_vertexBuf' + 'fer2D']['setNeedUpl' + 'oad'](), this['_vertexBuf' + 'fer2D']['subUpload'](0x0, 0x0, 0x4 * this['_firstFree' + 'Element'] * this['_floatCoun' + 'tPerVertex'] * 0x4))), this['_firstNewE' + 'lement'] = this['_firstFree' + 'Element'];
            }, _0x26851f['renderSubm' + 'it'] = function () {
                return this['texture'] && this['texture']['loaded'] && (this['update'](_0xafdb2b['timer']['delta']), this['sv']['u_CurrentT' + 'ime'] = this['_currentTi' + 'me'], this['_firstNewE' + 'lement'] != this['_firstFree' + 'Element'] && this['addNewPart' + 'iclesToVer' + 'texBuffer'](), this['blend'](), this['_firstActi' + 'veElement'] != this['_firstFree' + 'Element'] && (_0x2b2e4e['mainContex' + 't'], this['_vertexBuf' + 'fer2D']['bind'](this['_indexBuff' + 'er2D']), this['sv']['u_texture'] = this['texture']['source'], this['sv']['upload'](), this['_firstActi' + 'veElement'] < this['_firstFree' + 'Element'] ? _0x2b2e4e['mainContex' + 't']['drawElemen' + 'ts'](0x4, 0x6 * (this['_firstFree' + 'Element'] - this['_firstActi' + 'veElement']), 0x1403, 0x6 * this['_firstActi' + 'veElement'] * 0x2) : (_0x2b2e4e['mainContex' + 't']['drawElemen' + 'ts'](0x4, 0x6 * (this['settings']['maxPartice' + 's'] - this['_firstActi' + 'veElement']), 0x1403, 0x6 * this['_firstActi' + 'veElement'] * 0x2), this['_firstFree' + 'Element'] > 0x0 && _0x2b2e4e['mainContex' + 't']['drawElemen' + 'ts'](0x4, 0x6 * this['_firstFree' + 'Element'], 0x1403, 0x0)), _0x1f51d0['drawCall']++), this['_drawCount' + 'er']++), 0x1;
            }, _0x26851f['blend'] = function () {
                if (_0x2f586c['activeBlen' + 'dFunction'] !== this['_blendFn']) {
                    var _0xb93758 = _0x2b2e4e['mainContex' + 't'];
                    _0xb93758['enable'](0xbe2), this['_blendFn'](_0xb93758), _0x2f586c['activeBlen' + 'dFunction'] = this['_blendFn'];
                }
            }, _0x26851f['dispose'] = function () {
                this['_vertexBuf' + 'fer2D']['dispose'](), this['_indexBuff' + 'er2D']['dispose']();
            }, _0x1edfbd['activeBlen' + 'dType'] = -0x1, _0x1edfbd;
        }(_0x4cb904), _0x44d176 = function (_0x11b4bd) {
            function _0x212c34() {
                this['a_CornerTe' + 'xtureCoord' + 'inate'] = [
                    0x4,
                    0x1406,
                    !0x1,
                    0x74,
                    0x0
                ], this['a_Position'] = [
                    0x3,
                    0x1406,
                    !0x1,
                    0x74,
                    0x10
                ], this['a_Velocity'] = [
                    0x3,
                    0x1406,
                    !0x1,
                    0x74,
                    0x1c
                ], this['a_StartCol' + 'or'] = [
                    0x4,
                    0x1406,
                    !0x1,
                    0x74,
                    0x28
                ], this['a_EndColor'] = [
                    0x4,
                    0x1406,
                    !0x1,
                    0x74,
                    0x38
                ], this['a_SizeRota' + 'tion'] = [
                    0x3,
                    0x1406,
                    !0x1,
                    0x74,
                    0x48
                ], this['a_Radius'] = [
                    0x2,
                    0x1406,
                    !0x1,
                    0x74,
                    0x54
                ], this['a_Radian'] = [
                    0x4,
                    0x1406,
                    !0x1,
                    0x74,
                    0x5c
                ], this['a_AgeAddSc' + 'ale'] = [
                    0x1,
                    0x1406,
                    !0x1,
                    0x74,
                    0x6c
                ], this['a_Time'] = [
                    0x1,
                    0x1406,
                    !0x1,
                    0x74,
                    0x70
                ], this['u_CurrentT' + 'ime'] = NaN, this['u_Duration'] = NaN, this['u_Gravity'] = null, this['u_EndVeloc' + 'ity'] = NaN, this['u_texture'] = null, _0x212c34['__super']['call'](this, 0x0, 0x0);
            }
            return _0xaf61b8(_0x212c34, 'laya.parti' + 'cle.shader' + '.value.Par' + 'ticleShade' + 'rValue', _0x3f976a), _0x212c34['prototype']['upload'] = function () {
                this['refresh'](), _0x212c34['pShader']['upload'](this);
            }, _0x2a9406(_0x212c34, [
                'pShader',
                function () {
                    return this['pShader'] = new _0x1cb036();
                }
            ]), _0x212c34;
        }(), _0x1cb036 = (function (_0x3786e1) {
            function _0x4eb363(_0x17382e) {
                this['_matrix4'] = [
                    0x1,
                    0x0,
                    0x0,
                    0x0,
                    0x0,
                    0x1,
                    0x0,
                    0x0,
                    0x0,
                    0x0,
                    0x1,
                    0x0,
                    0x0,
                    0x0,
                    0x0,
                    0x1
                ], this['_particleT' + 'emplate'] = null, this['_canvasTem' + 'plate'] = null, this['_emitter'] = null, this['autoPlay'] = !0x0, _0x4eb363['__super']['call'](this), _0x17382e && this['setParticl' + 'eSetting'](_0x17382e);
            }
            _0xaf61b8(_0x4eb363, 'laya.parti' + 'cle.Partic' + 'le2D', _0x3786e1);
            var _0x4cb78c = _0x4eb363['prototype'];
            _0x4cb78c['load'] = function (_0x125855) {
                _0xafdb2b['loader']['load'](_0x125855, _0x318061['create'](this, this['setParticl' + 'eSetting']), null, 'json');
            }, _0x4cb78c['setParticl' + 'eSetting'] = function (_0x4ccb1a) {
                var _0x129d5c = this;
                if (!_0x4ccb1a)
                    return this['stop']();
                if (_0x55144e['checkSetti' + 'ng'](_0x4ccb1a), _0x5c0d3c['ConchParti' + 'cleTemplat' + 'e2D'] && !_0x1d3925['isWebGL'] || (this['customRend' + 'erEnable'] = !0x0), _0x1d3925['isWebGL'])
                    this['_particleT' + 'emplate'] = new _0xc6d5e8(_0x4ccb1a), this['graphics']['_saveToCmd'](_0x1d3925['context']['_drawParti' + 'cle'], [this['_particleT' + 'emplate']]);
                else {
                    if (_0x1d3925['isConchApp'] && _0x5c0d3c['ConchParti' + 'cleTemplat' + 'e2D']) {
                        this['_particleT' + 'emplate'] = new ConchParticleTemplate2D();
                        var _0x154158 = this;
                        return _0xafdb2b['loader']['load'](_0x4ccb1a['textureNam' + 'e'], _0x318061['create'](null, function (_0x2c2658) {
                            _0x154158['_particleT' + 'emplate']['texture'] = _0x2c2658, _0x154158['_particleT' + 'emplate']['settings'] = _0x4ccb1a, _0x1d3925['isConchNod' + 'e'] ? _0x154158['graphics']['drawPartic' + 'le'](_0x154158['_particleT' + 'emplate']) : _0x154158['graphics']['_saveToCmd'](_0x1d3925['context']['_drawParti' + 'cle'], [_0x129d5c['_particleT' + 'emplate']]);
                        })), this['_emitter'] = {
                            'start': function () {
                            }
                        }, this['play'] = this['_particleT' + 'emplate']['play']['bind'](this['_particleT' + 'emplate']), this['stop'] = this['_particleT' + 'emplate']['stop']['bind'](this['_particleT' + 'emplate']), void (this['autoPlay'] && this['play']());
                    }
                    this['_particleT' + 'emplate'] = this['_canvasTem' + 'plate'] = new _0x42d45b(_0x4ccb1a);
                }
                this['_emitter'] ? this['_emitter']['template'] = this['_particleT' + 'emplate'] : this['_emitter'] = new _0x43de66(this['_particleT' + 'emplate']), this['autoPlay'] && (this['emitter']['start'](), this['play']());
            }, _0x4cb78c['play'] = function () {
                this['timer']['frameLoop'](0x1, this, this['_loop']);
            }, _0x4cb78c['stop'] = function () {
                this['timer']['clear'](this, this['_loop']);
            }, _0x4cb78c['_loop'] = function () {
                this['advanceTim' + 'e'](0x1 / 0x3c);
            }, _0x4cb78c['advanceTim' + 'e'] = function (_0x4d25aa) {
                void 0x0 === _0x4d25aa && (_0x4d25aa = 0x1), this['_canvasTem' + 'plate'] && this['_canvasTem' + 'plate']['advanceTim' + 'e'](_0x4d25aa), this['_emitter'] && this['_emitter']['advanceTim' + 'e'](_0x4d25aa);
            }, _0x4cb78c['customRend' + 'er'] = function (_0x1b6800, _0x2bf81a, _0xefe70a) {
                _0x1d3925['isWebGL'] && (this['_matrix4'][0x0] = _0x1b6800['ctx']['_curMat']['a'], this['_matrix4'][0x1] = _0x1b6800['ctx']['_curMat']['b'], this['_matrix4'][0x4] = _0x1b6800['ctx']['_curMat']['c'], this['_matrix4'][0x5] = _0x1b6800['ctx']['_curMat']['d'], this['_matrix4'][0xc] = _0x1b6800['ctx']['_curMat']['tx'], this['_matrix4'][0xd] = _0x1b6800['ctx']['_curMat']['ty'], this['_particleT' + 'emplate']['sv']['u_mmat'] = this['_matrix4']), this['_canvasTem' + 'plate'] && this['_canvasTem' + 'plate']['render'](_0x1b6800, _0x2bf81a, _0xefe70a);
            }, _0x4cb78c['destroy'] = function (_0x2dfed6) {
                void 0x0 === _0x2dfed6 && (_0x2dfed6 = !0x0), this['_particleT' + 'emplate'] instanceof laya['particle']['ParticleTe' + 'mplate2D'] && this['_particleT' + 'emplate']['dispose'](), _0x3786e1['prototype']['destroy']['call'](this, _0x2dfed6);
            }, _0x7f72e3(0x0, _0x4cb78c, 'url', null, function (_0x2c0d0d) {
                this['load'](_0x2c0d0d);
            }), _0x7f72e3(0x0, _0x4cb78c, 'emitter', function () {
                return this['_emitter'];
            });
        }(_0x32ecbd), function (_0x5d4184) {
            function _0x20bb64() {
                _0x20bb64['__super']['call'](this, _0x20bb64['vs'], _0x20bb64['ps'], 'ParticleSh' + 'ader');
            }
            return _0xaf61b8(_0x20bb64, 'laya.parti' + 'cle.shader' + '.ParticleS' + 'hader', _0x2dbc08), _0x2a9406(_0x20bb64, [
                'vs',
                function () {
                    return this['vs'] = 'attribute\x20' + 'vec4\x20a_Cor' + 'nerTexture' + 'Coordinate' + ';\x0aattribut' + 'e\x20vec3\x20a_P' + 'osition;\x0aa' + 'ttribute\x20v' + 'ec3\x20a_Velo' + 'city;\x0aattr' + 'ibute\x20vec4' + '\x20a_StartCo' + 'lor;\x0aattri' + 'bute\x20vec4\x20' + 'a_EndColor' + ';\x0aattribut' + 'e\x20vec3\x20a_S' + 'izeRotatio' + 'n;\x0aattribu' + 'te\x20vec2\x20a_' + 'Radius;\x0aat' + 'tribute\x20ve' + 'c4\x20a_Radia' + 'n;\x0aattribu' + 'te\x20float\x20a' + '_AgeAddSca' + 'le;\x0aattrib' + 'ute\x20float\x20' + 'a_Time;\x0a\x0av' + 'arying\x20vec' + '4\x20v_Color;' + '\x0avarying\x20v' + 'ec2\x20v_Text' + 'ureCoordin' + 'ate;\x0a\x0aunif' + 'orm\x20float\x20' + 'u_CurrentT' + 'ime;\x0aunifo' + 'rm\x20float\x20u' + '_Duration;' + '\x0auniform\x20f' + 'loat\x20u_End' + 'Velocity;\x0a' + 'uniform\x20ve' + 'c3\x20u_Gravi' + 'ty;\x0a\x0a#ifde' + 'f\x20PARTICLE' + '3D\x0a\x20unifor' + 'm\x20mat4\x20u_W' + 'orldMat;\x0a\x20' + 'uniform\x20ma' + 't4\x20u_View;' + '\x0a\x20uniform\x20' + 'mat4\x20u_Pro' + 'jection;\x0a\x20' + 'uniform\x20ve' + 'c2\x20u_Viewp' + 'ortScale;\x0a' + '#else\x0a\x20uni' + 'form\x20vec2\x20' + 'size;\x0a\x20uni' + 'form\x20mat4\x20' + 'mmat;\x0a\x20uni' + 'form\x20mat4\x20' + 'u_mmat;\x0a#e' + 'ndif\x0a\x0avec4' + '\x20ComputePa' + 'rticlePosi' + 'tion(in\x20ve' + 'c3\x20positio' + 'n,\x20in\x20vec3' + '\x20velocity,' + 'in\x20float\x20a' + 'ge,in\x20floa' + 't\x20normaliz' + 'edAge)\x0a{\x0a\x0a' + '\x20\x20\x20float\x20s' + 'tartVeloci' + 'ty\x20=\x20lengt' + 'h(velocity' + ');//起始标量速度' + '\x0a\x20\x20\x20float\x20' + 'endVelocit' + 'y\x20=\x20startV' + 'elocity\x20*\x20' + 'u_EndVeloc' + 'ity;//结束标量' + '速度\x0a\x0a\x20\x20\x20flo' + 'at\x20velocit' + 'yIntegral\x20' + '=\x20startVel' + 'ocity\x20*\x20no' + 'rmalizedAg' + 'e\x20+(endVel' + 'ocity\x20-\x20st' + 'artVelocit' + 'y)\x20*\x20norma' + 'lizedAge\x20*' + 'normalized' + 'Age/2.0;//' + ('计算当前速度的标量（' + '单位空间），vt=v' + '0*t+(1/2)*' + 'a*(t^2)\x0a\x20\x20' + '\x20\x0a\x20\x20\x20vec3\x20' + 'addPositio' + 'n\x20=\x20normal' + 'ize(veloci' + 'ty)\x20*\x20velo' + 'cityIntegr' + 'al\x20*\x20u_Dur' + 'ation;//计算' + '受自身速度影响的位置' + '，转换标量到矢量\x20\x20' + '\x20\x20\x0a\x20\x20\x20addP' + 'osition\x20+=' + '\x20u_Gravity' + '\x20*\x20age\x20*\x20n' + 'ormalizedA' + 'ge;//计算受重力' + '影响的位置\x0a\x20\x20\x20\x0a' + '\x20\x20\x20float\x20r' + 'adius=mix(' + 'a_Radius.x' + ',\x20a_Radius' + '.y,\x20normal' + 'izedAge);\x20' + '//计算粒子受半径和' + '角度影响（无需计算角' + '度和半径时，可用宏定' + '义优化屏蔽此计算）\x0a' + '\x20\x20\x20float\x20r' + 'adianHoriz' + 'ontal\x20=mix' + '(a_Radian.' + 'x,a_Radian' + '.z,normali' + 'zedAge);\x0a\x20' + '\x20\x20float\x20ra' + 'dianVertic' + 'al\x20=mix(a_' + 'Radian.y,a' + '_Radian.w,' + 'normalized' + 'Age);\x0a\x20\x20\x20\x0a' + '\x20\x20\x20float\x20r' + '\x20=cos(radi' + 'anVertical' + ')*\x20radius;' + '\x0a\x20\x20\x20addPos' + 'ition.y\x20+=' + '\x20sin(radia' + 'nVertical)' + '\x20*\x20radius;' + '\x0a\x09\x0a\x20\x20\x20addP' + 'osition.x\x20' + '+=\x20cos(rad' + 'ianHorizon' + 'tal)\x20*r;\x0a\x20' + '\x20\x20addPosit' + 'ion.z\x20+=\x20s' + 'in(radianH' + 'orizontal)' + '\x20*r;\x0a\x20\x20\x0a\x20\x20' + '\x20#ifdef\x20PA' + 'RTICLE3D\x0a\x20' + '\x20\x20position' + '+=addPosit' + 'ion;\x0a\x20\x20\x20\x20r' + 'eturn\x20\x20u_P' + 'rojection*' + 'u_View*u_W' + 'orldMat*(v' + 'ec4(positi' + 'on,\x201.0));' + '\x0a\x20\x20\x20#else\x0a' + '\x20\x20\x20addPosi' + 'tion.y=-ad' + 'dPosition.' + 'y;//2D粒子位置' + '更新需要取负，2D粒' + '子坐标系Y轴正向朝上' + '\x0a\x20\x20\x20positi' + 'on+=addPos' + 'ition;\x0a\x20\x20\x20' + '\x20return\x20\x20v' + 'ec4(positi' + 'on,1.0);\x0a\x20' + '\x20\x20#endif\x0a}' + '\x0a\x0afloat\x20Co' + 'mputeParti' + 'cleSize(in' + '\x20float\x20sta' + 'rtSize,in\x20' + 'float\x20endS' + 'ize,\x20in\x20fl' + 'oat\x20normal' + 'izedAge)\x0a{' + '\x20\x20\x20\x20\x0a\x20\x20\x20\x20f' + 'loat\x20size\x20') + ('=\x20mix(star' + 'tSize,\x20end' + 'Size,\x20norm' + 'alizedAge)' + ';\x0a\x20\x20\x20\x20\x0a\x09#i' + 'fdef\x20PARTI' + 'CLE3D\x0a\x20\x20\x20\x20' + '//Project\x20' + 'the\x20size\x20i' + 'nto\x20screen' + '\x20coordinat' + 'es.\x0a\x20\x20\x20\x20\x20r' + 'eturn\x20size' + '\x20*\x20u_Proje' + 'ction[1][1' + '];\x0a\x09#else\x0a' + '\x09\x20return\x20s' + 'ize;\x0a\x09#end' + 'if\x0a}\x0a\x0amat2' + '\x20ComputePa' + 'rticleRota' + 'tion(in\x20fl' + 'oat\x20rot,in' + '\x20float\x20age' + ')\x0a{\x20\x20\x20\x20\x0a\x20\x20' + '\x20\x20float\x20ro' + 'tation\x20=ro' + 't\x20*\x20age;\x0a\x20' + '\x20\x20\x20//计算2x2' + '旋转矩阵.\x0a\x20\x20\x20\x20' + 'float\x20c\x20=\x20' + 'cos(rotati' + 'on);\x0a\x20\x20\x20\x20f' + 'loat\x20s\x20=\x20s' + 'in(rotatio' + 'n);\x0a\x20\x20\x20\x20re' + 'turn\x20mat2(' + 'c,\x20-s,\x20s,\x20' + 'c);\x0a}\x0a\x0avec' + '4\x20ComputeP' + 'articleCol' + 'or(in\x20vec4' + '\x20startColo' + 'r,in\x20vec4\x20' + 'endColor,i' + 'n\x20float\x20no' + 'rmalizedAg' + 'e)\x0a{\x0a\x09vec4' + '\x20color=mix' + '(startColo' + 'r,endColor' + ',normalize' + 'dAge);\x0a\x20\x20\x20' + '\x20//硬编码设置，使' + '粒子淡入很快，淡出很' + '慢,6.7的缩放因子' + '把置归一在0到1之间' + '，可以谷歌x*(1-' + 'x)*(1-x)*6' + '.7的制图表\x0a\x20\x20\x20' + '\x20color.a\x20*' + '=\x20normaliz' + 'edAge\x20*\x20(1' + '.0-normali' + 'zedAge)\x20*\x20' + '(1.0-norma' + 'lizedAge)\x20' + '*\x206.7;\x0a\x20\x20\x20' + '\x0a\x20\x20\x20\x20retur' + 'n\x20color;\x0a}' + '\x0a\x0avoid\x20mai' + 'n()\x0a{\x0a\x20\x20\x20f' + 'loat\x20age\x20=' + '\x20u_Current' + 'Time\x20-\x20a_T' + 'ime;\x0a\x20\x20\x20ag' + 'e\x20*=\x201.0\x20+' + '\x20a_AgeAddS' + 'cale;\x0a\x20\x20\x20f' + 'loat\x20norma' + 'lizedAge\x20=' + '\x20clamp(age' + '\x20/\x20u_Durat' + 'ion,0.0,1.' + '0);\x0a\x20\x20\x20gl_' + 'Position\x20=' + '\x20ComputePa' + 'rticlePosi' + 'tion(a_Pos' + 'ition,\x20a_V' + 'elocity,\x20a' + 'ge,\x20normal' + 'izedAge);/' + '/计算粒子位置\x0a\x20\x20' + '\x20float\x20pSi' + 'ze\x20=\x20Compu' + 'teParticle' + 'Size(a_Siz' + 'eRotation.' + 'x,a_SizeRo') + ('tation.y,\x20' + 'normalized' + 'Age);\x0a\x20\x20\x20m' + 'at2\x20rotati' + 'on\x20=\x20Compu' + 'teParticle' + 'Rotation(a' + '_SizeRotat' + 'ion.z,\x20age' + ');\x0a\x09\x0a\x20\x20\x20#i' + 'fdef\x20PARTI' + 'CLE3D\x0a\x09gl_' + 'Position.x' + 'y\x20+=\x20(rota' + 'tion*a_Cor' + 'nerTexture' + 'Coordinate' + '.xy)\x20*\x20pSi' + 'ze\x20*\x20u_Vie' + 'wportScale' + ';\x0a\x20\x20\x20#else' + '\x0a\x20\x20\x20\x20mat4\x20' + 'mat=u_mmat' + '*mmat;\x0a\x20\x20\x20' + '\x20gl_Positi' + 'on=vec4((m' + 'at*gl_Posi' + 'tion).xy,0' + '.0,1.0);\x0a\x09' + 'gl_Positio' + 'n.xy\x20+=\x20(r' + 'otation*a_' + 'CornerText' + 'ureCoordin' + 'ate.xy)\x20*\x20' + 'pSize*vec2' + '(mat[0][0]' + ',mat[1][1]' + ');\x0a\x20\x20\x20\x20gl_' + 'Position=v' + 'ec4((gl_Po' + 'sition.x/s' + 'ize.x-0.5)' + '*2.0,(0.5-' + 'gl_Positio' + 'n.y/size.y' + ')*2.0,0.0,' + '1.0);\x0a\x20\x20\x20#' + 'endif\x0a\x20\x20\x20\x0a' + '\x20\x20\x20v_Color' + '\x20=\x20Compute' + 'ParticleCo' + 'lor(a_Star' + 'tColor,a_E' + 'ndColor,\x20n' + 'ormalizedA' + 'ge);\x0a\x20\x20\x20v_' + 'TextureCoo' + 'rdinate\x20=a' + '_CornerTex' + 'tureCoordi' + 'nate.zw;\x0a}' + '\x0a\x0a');
                },
                'ps',
                function () {
                    return this['ps'] = '#ifdef\x20FSH' + 'IGHPRECISI' + 'ON\x0aprecisi' + 'on\x20highp\x20f' + 'loat;\x0a#els' + 'e\x0aprecisio' + 'n\x20mediump\x20' + 'float;\x0a#en' + 'dif\x0a\x0avaryi' + 'ng\x20vec4\x20v_' + 'Color;\x0avar' + 'ying\x20vec2\x20' + 'v_TextureC' + 'oordinate;' + '\x0auniform\x20s' + 'ampler2D\x20u' + '_texture;\x0a' + '\x0avoid\x20main' + '()\x0a{\x09\x0a\x09gl_' + 'FragColor=' + 'texture2D(' + 'u_texture,' + 'v_TextureC' + 'oordinate)' + '*v_Color;\x0a' + '\x09gl_FragCo' + 'lor.xyz\x20*=' + '\x20v_Color.w' + ';\x0a}';
                }
            ]), _0x20bb64;
        }());
}(window, document, Laya), 'function' == typeof define && define['amd'] && define('laya.core', [
    'require',
    'exports'
], function (_0x98cc7e, _0x263b47) {
    for (var _0x466007 in (Object['defineProp' + 'erty'](_0x263b47, '__esModule', { 'value': !0x0 }), Laya)) {
        var _0x5d7d8f = Laya[_0x466007];
        _0x5d7d8f && _0x5d7d8f['__isclass'] && (_0x263b47[_0x466007] = _0x5d7d8f);
    }
});